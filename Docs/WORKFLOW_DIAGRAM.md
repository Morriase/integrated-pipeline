# SMC Model Training Workflow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         STEP 1: DATA PREPARATION                            â”‚
â”‚                     File: run_complete_pipeline.py                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Raw MT5 OHLC Data             â”‚
                    â”‚   Data/MT5_Data/*.csv           â”‚
                    â”‚   (M15, H1, H4 timeframes)      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Consolidate Multi-TF Data     â”‚
                    â”‚   consolidate_mt5_data.py       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   SMC Feature Detection         â”‚
                    â”‚   data_preparation_pipeline.py  â”‚
                    â”‚                                 â”‚
                    â”‚   â€¢ Order Blocks (OB)           â”‚
                    â”‚   â€¢ Fair Value Gaps (FVG)       â”‚
                    â”‚   â€¢ Market Structure (BOS)      â”‚
                    â”‚   â€¢ Change of Character (ChoCH) â”‚
                    â”‚   â€¢ Fuzzy Logic Quality         â”‚
                    â”‚   â€¢ Multi-TF Confluence         â”‚
                    â”‚   â€¢ Regime Classification       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Triple Barrier Labeling       â”‚
                    â”‚   TBM_Label: -1, 0, +1          â”‚
                    â”‚   (LOSS, TIMEOUT, WIN)          â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Train/Val/Test Split          â”‚
                    â”‚   70% / 15% / 15%               â”‚
                    â”‚   (Chronological)               â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                  OUTPUT: Training Data                  â”‚
        â”‚                                                         â”‚
        â”‚  â€¢ processed_smc_data_train.csv  (70%)                 â”‚
        â”‚  â€¢ processed_smc_data_val.csv    (15%)                 â”‚
        â”‚  â€¢ processed_smc_data_test.csv   (15%)                 â”‚
        â”‚  â€¢ processed_smc_data_feature_list.txt                 â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         STEP 2: MODEL TRAINING                              â”‚
â”‚                      File: train_all_models.py                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Load Training Data            â”‚
                    â”‚   â€¢ Extract features (100+)     â”‚
                    â”‚   â€¢ Extract target (TBM_Label)  â”‚
                    â”‚   â€¢ Handle missing values       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                  Train 4 Model Types                      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚             â”‚               â”‚               â”‚             â”‚
        â–¼             â–¼               â–¼               â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Random       â”‚ â”‚ XGBoost  â”‚ â”‚ Neural       â”‚ â”‚ LSTM     â”‚
â”‚ Forest       â”‚ â”‚          â”‚ â”‚ Network      â”‚ â”‚          â”‚
â”‚              â”‚ â”‚          â”‚ â”‚              â”‚ â”‚          â”‚
â”‚ â€¢ 200 trees  â”‚ â”‚ â€¢ 200    â”‚ â”‚ â€¢ 256â†’128â†’64 â”‚ â”‚ â€¢ 20     â”‚
â”‚ â€¢ Depth: 20  â”‚ â”‚   rounds â”‚ â”‚ â€¢ Dropout    â”‚ â”‚   lookbackâ”‚
â”‚ â€¢ Balanced   â”‚ â”‚ â€¢ LR:0.1 â”‚ â”‚   0.3        â”‚ â”‚ â€¢ 2 layersâ”‚
â”‚              â”‚ â”‚ â€¢ GPU    â”‚ â”‚ â€¢ BatchNorm  â”‚ â”‚ â€¢ 128 dim â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚             â”‚               â”‚               â”‚
        â”‚             â”‚               â”‚               â”‚
        â–¼             â–¼               â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Evaluate on Validation Set                  â”‚
â”‚                                                          â”‚
â”‚  â€¢ Accuracy                                              â”‚
â”‚  â€¢ Precision / Recall / F1                               â”‚
â”‚  â€¢ Win Rate (excl. timeouts)                             â”‚
â”‚  â€¢ Confusion Matrix                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚             â”‚               â”‚               â”‚
        â”‚             â”‚               â”‚               â”‚
        â–¼             â–¼               â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Evaluate on Test Set                        â”‚
â”‚              (Final Performance)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚             â”‚               â”‚               â”‚
        â”‚             â”‚               â”‚               â”‚
        â–¼             â–¼               â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Save Trained Models                     â”‚
â”‚                                                          â”‚
â”‚  models/trained/                                         â”‚
â”‚  â”œâ”€â”€ EURUSD_RandomForest.pkl                            â”‚
â”‚  â”œâ”€â”€ EURUSD_XGBoost.pkl                                 â”‚
â”‚  â”œâ”€â”€ EURUSD_NeuralNetwork.pkl                           â”‚
â”‚  â”œâ”€â”€ EURUSD_LSTM.pkl                                    â”‚
â”‚  â”œâ”€â”€ *_metadata.json                                    â”‚
â”‚  â””â”€â”€ training_results.json                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         STEP 3: ENSEMBLE & DEPLOY                           â”‚
â”‚                         (Future Implementation)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Ensemble Predictions          â”‚
                    â”‚   â€¢ Weighted average            â”‚
                    â”‚   â€¢ Voting classifier           â”‚
                    â”‚   â€¢ Stacking                    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Backtest on Test Set          â”‚
                    â”‚   â€¢ Simulate trades             â”‚
                    â”‚   â€¢ Calculate metrics           â”‚
                    â”‚   â€¢ Risk management             â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Deploy to Production          â”‚
                    â”‚   â€¢ Real-time predictions       â”‚
                    â”‚   â€¢ Trade execution             â”‚
                    â”‚   â€¢ Performance monitoring      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ“Š Data Flow

```
Raw OHLC Data (1000s of candles)
        â†“
100+ SMC Features per candle
        â†“
TBM Labels: -1 (Loss), 0 (Timeout), +1 (Win)
        â†“
Train/Val/Test Split (70/15/15)
        â†“
4 Model Types Learn Patterns
        â†“
Predictions: [P(Loss), P(Timeout), P(Win)]
        â†“
Ensemble â†’ Final Prediction
        â†“
Trade Decision: Enter or Skip
```

---

## ðŸŽ¯ Feature Flow

```
Order Block Detection
â”œâ”€â”€ OB_Bullish / OB_Bearish
â”œâ”€â”€ OB_Quality_Fuzzy â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”œâ”€â”€ OB_Displacement_ATR â”€â”€â”€â”€â”€â”€â”€â”¤
â”œâ”€â”€ OB_Age â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â””â”€â”€ OB_Mitigated â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                               â”‚
Fair Value Gap Detection       â”‚
â”œâ”€â”€ FVG_Bullish / FVG_Bearish  â”‚
â”œâ”€â”€ FVG_Quality_Fuzzy â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”œâ”€â”€ FVG_Depth_ATR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â””â”€â”€ FVG_Distance_to_Price â”€â”€â”€â”€â”€â”¤
                               â”‚
Market Structure               â”‚
â”œâ”€â”€ BOS_Close_Confirm â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”œâ”€â”€ BOS_Commitment_Flag â”€â”€â”€â”€â”€â”€â”€â”¤
â””â”€â”€ ChoCH_Detected â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                               â”‚
Multi-Timeframe Confluence     â”‚
â”œâ”€â”€ HTF_OB_Confluence â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”œâ”€â”€ HTF_FVG_Confluence â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”œâ”€â”€ HTF_Trend_Alignment â”€â”€â”€â”€â”€â”€â”€â”¤
â””â”€â”€ HTF_Confluence_Quality â”€â”€â”€â”€â”¤
                               â”‚
Regime Features                â”‚
â”œâ”€â”€ Trend_Bias_Indicator â”€â”€â”€â”€â”€â”€â”¤
â”œâ”€â”€ RSI_Normalized â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”œâ”€â”€ Volatility_Regime_Fuzzy â”€â”€â”€â”¤
â””â”€â”€ Trend_Strength_Fuzzy â”€â”€â”€â”€â”€â”€â”¤
                               â”‚
                               â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  ML Model Input  â”‚
                    â”‚  (100+ features) â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Model Learns:   â”‚
                    â”‚  â€¢ OB quality    â”‚
                    â”‚  â€¢ FVG strength  â”‚
                    â”‚  â€¢ HTF alignment â”‚
                    â”‚  â€¢ Regime contextâ”‚
                    â”‚  â€¢ Interactions  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Prediction:     â”‚
                    â”‚  WIN / LOSS /    â”‚
                    â”‚  TIMEOUT         â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ”„ Training Loop

```
For each symbol (EURUSD, GBPUSD, etc.):
    â”‚
    â”œâ”€ Load train/val/test data
    â”‚
    â”œâ”€ For each model type:
    â”‚   â”‚
    â”‚   â”œâ”€ Initialize model
    â”‚   â”‚
    â”‚   â”œâ”€ For each epoch:
    â”‚   â”‚   â”‚
    â”‚   â”‚   â”œâ”€ Forward pass
    â”‚   â”‚   â”œâ”€ Calculate loss
    â”‚   â”‚   â”œâ”€ Backward pass (if NN/LSTM)
    â”‚   â”‚   â”œâ”€ Update weights
    â”‚   â”‚   â””â”€ Validate
    â”‚   â”‚
    â”‚   â”œâ”€ Early stopping check
    â”‚   â”‚
    â”‚   â”œâ”€ Evaluate on test set
    â”‚   â”‚
    â”‚   â””â”€ Save model
    â”‚
    â””â”€ Generate summary report
```

---

## ðŸ“ˆ Performance Monitoring

```
Training Phase:
â”œâ”€â”€ Train Loss â†“
â”œâ”€â”€ Train Accuracy â†‘
â”œâ”€â”€ Val Loss â†“
â””â”€â”€ Val Accuracy â†‘

Evaluation Phase:
â”œâ”€â”€ Test Accuracy
â”œâ”€â”€ Precision (WIN)
â”œâ”€â”€ Recall (WIN)
â”œâ”€â”€ F1-Score
â”œâ”€â”€ Win Rate
â””â”€â”€ Confusion Matrix

Feature Analysis:
â”œâ”€â”€ Feature Importance
â”œâ”€â”€ Top 20 Features
â””â”€â”€ Correlation Analysis
```

---

## ðŸŽ¯ Decision Flow (Inference)

```
New Candle Arrives
        â†“
Extract 100+ Features
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Pass through all 4 models        â”‚
â”‚                                   â”‚
â”‚  Random Forest  â†’ [0.1, 0.3, 0.6] â”‚
â”‚  XGBoost        â†’ [0.2, 0.2, 0.6] â”‚
â”‚  Neural Network â†’ [0.15, 0.25, 0.6]â”‚
â”‚  LSTM           â†’ [0.2, 0.3, 0.5] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
Ensemble (Weighted Average)
        â†“
Final Probabilities: [0.16, 0.26, 0.58]
        â†“
Argmax â†’ Prediction: WIN (+1)
        â†“
Confidence Check: 0.58 > 0.55 threshold?
        â†“
    YES â†’ Enter Trade
    NO  â†’ Skip Setup
```

---

## ðŸš€ Quick Commands

```bash
# Step 1: Generate training data
python run_complete_pipeline.py

# Step 2: Train all models
python train_all_models.py

# Check results
cat models/trained/training_results.json

# Train specific model
python models/random_forest_model.py
python models/xgboost_model.py
python models/neural_network_model.py
python models/lstm_model.py
```

---

## âœ… Success Checkpoints

```
âœ“ Step 1 Complete
  â””â”€ Training data generated in Data/

âœ“ Step 2 Complete
  â””â”€ Models trained and saved in models/trained/

âœ“ Performance Check
  â”œâ”€ Accuracy >50%
  â”œâ”€ Win Rate >55%
  â””â”€ No overfitting

âœ“ Ready for Production
  â””â”€ Deploy best models
```

---

**Next:** See `QUICK_START.md` for step-by-step instructions.
