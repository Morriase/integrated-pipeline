üîÑ Cloning repository...
‚úÖ Repository cloned

üì¶ Installing dependencies...
  ‚úì torch
  ‚úì scikit-fuzzy
  ‚úì xgboost
  ‚úì scikit-learn
  ‚úì imbalanced-learn
  ‚úì pandas
  ‚úì numpy
  ‚úì joblib
  ‚úì matplotlib
  ‚úì seaborn
‚úÖ Dependencies installed

üöÄ Running complete pipeline...

================================================================================
üöÄ KAGGLE SMC PIPELINE - COMPLETE EXECUTION
================================================================================

‚ö†Ô∏è  Removing existing repository...

üì• Cloning repository from GitHub...
   URL: https://github.com/Morriase/integrated-pipeline.git
   Target: /kaggle/working/integrated-pipeline
‚úÖ Repository cloned successfully

================================================================================
üìÇ Verifying Dataset
================================================================================
‚úÖ Dataset verified: 68 CSV files found

================================================================================
üì¶ Installing Dependencies
================================================================================
‚ö†Ô∏è  torch - failed
‚ö†Ô∏è  scikit-fuzzy - failed
‚ö†Ô∏è  xgboost - failed
‚ö†Ô∏è  scikit-learn - failed
‚ö†Ô∏è  imbalanced-learn - failed
‚ö†Ô∏è  pandas - failed
‚ö†Ô∏è  numpy - failed
‚ö†Ô∏è  joblib - failed
‚ö†Ô∏è  matplotlib - failed
‚ö†Ô∏è  seaborn - failed

‚ö†Ô∏è  Failed packages: torch, scikit-fuzzy, xgboost, scikit-learn, imbalanced-learn, pandas, numpy, joblib, matplotlib, seaborn
Continuing anyway - some may already be installed...

================================================================================
üêç Setting up Python Environment
================================================================================
Working directory: /kaggle/working/integrated-pipeline
Python path: /kaggle/working/integrated-pipeline
‚úÖ Environment ready

================================================================================
üìä RUNNING DATA PIPELINE
================================================================================

================================================================================
COMPLETE SMC DATA PIPELINE WORKFLOW
================================================================================

================================================================================
STEP 1: CONSOLIDATING MT5 EXPORT FILES
================================================================================

üìä Configuration: FULL (All symbols, all timeframes)
================================================================================
MT5 DATA CONSOLIDATION
================================================================================

üìÇ Found 68 CSV files in /kaggle/input/ob-ai-model-2-dataset/Data/mt5_exports
  ‚úì AUDJPY   M15 : 10,000 rows | 2025-05-16 16:45:00 to 2025-10-09 20:30:00
  ‚úì XAUUSD   M5  : 10,000 rows | 2025-08-20 04:00:00 to 2025-10-09 20:35:00
  ‚úì GBPUSD   M15 : 10,000 rows | 2025-05-16 15:45:00 to 2025-10-09 19:45:00
  ‚úì AUDUSD   H4  : 10,000 rows | 2019-05-09 20:00:00 to 2025-10-09 20:00:00
  ‚úì USDCAD   H1  : 10,000 rows | 2024-03-04 04:00:00 to 2025-10-09 20:00:00
  ‚úì AUDJPY   H4  : 10,000 rows | 2019-05-09 16:00:00 to 2025-10-09 20:00:00
  ‚úì EURUSD   M30 : 10,000 rows | 2024-12-19 12:00:00 to 2025-10-09 19:30:00
  ‚úì USDCAD   M15 : 10,000 rows | 2025-05-16 16:00:00 to 2025-10-09 20:00:00
  ‚úì USDCHF   M5  : 10,000 rows | 2025-08-21 20:10:00 to 2025-10-09 19:55:00
  ‚úì AUDNZD   D1  : 6,524 rows | 2000-03-30 00:00:00 to 2025-10-09 00:00:00
  ‚úì EURUSD   H1  : 10,000 rows | 2024-03-04 03:00:00 to 2025-10-09 19:00:00
  ‚úì AUDCHF   H1  : 10,000 rows | 2024-03-04 04:00:00 to 2025-10-09 20:00:00
  ‚úì AUDUSD   M30 : 10,000 rows | 2024-12-19 12:30:00 to 2025-10-09 20:00:00
  ‚úì EURUSD   H4  : 10,000 rows | 2019-05-09 16:00:00 to 2025-10-09 16:00:00
  ‚úì USDJPY   M30 : 10,000 rows | 2024-12-19 12:30:00 to 2025-10-09 20:00:00
  ‚úì AUDCHF   M1  : 10,000 rows | 2025-09-30 19:57:00 to 2025-10-09 20:28:00
  ‚úì AUDNZD   H4  : 10,000 rows | 2019-05-09 20:00:00 to 2025-10-09 20:00:00
  ‚úì AUDUSD   H1  : 10,000 rows | 2024-03-04 04:00:00 to 2025-10-09 20:00:00
  ‚úì AUDCAD   M30 : 10,000 rows | 2024-12-19 12:00:00 to 2025-10-09 20:00:00
  ‚úì AUDCHF   M5  : 10,000 rows | 2025-08-21 21:15:00 to 2025-10-09 20:25:00
  ‚úì AUDCAD   H4  : 10,000 rows | 2019-05-09 20:00:00 to 2025-10-09 20:00:00
  ‚úì GBPUSD   M30 : 10,000 rows | 2024-12-19 12:00:00 to 2025-10-09 19:30:00
  ‚úì AUDNZD   M15 : 10,000 rows | 2025-05-16 16:30:00 to 2025-10-09 20:15:00
  ‚úì USDCAD   M30 : 10,000 rows | 2024-12-19 12:30:00 to 2025-10-09 20:00:00
  ‚úì USDCHF   M30 : 10,000 rows | 2024-12-19 12:00:00 to 2025-10-09 19:30:00
  ‚úì AUDCHF   M30 : 10,000 rows | 2024-12-19 12:30:00 to 2025-10-09 20:00:00
  ‚úì EURUSD   M1  : 10,000 rows | 2025-09-30 19:12:00 to 2025-10-09 19:52:00
  ‚úì AUDCAD   M15 : 10,000 rows | 2025-05-16 16:00:00 to 2025-10-09 20:15:00
  ‚úì AUDNZD   M30 : 10,000 rows | 2024-12-19 12:00:00 to 2025-10-09 20:00:00
  ‚úì USDJPY   M5  : 10,000 rows | 2025-08-21 20:25:00 to 2025-10-09 20:00:00
  ‚úì GBPUSD   M5  : 10,000 rows | 2025-08-21 20:10:00 to 2025-10-09 19:50:00
  ‚úì AUDCHF   D1  : 6,545 rows | 2000-03-30 00:00:00 to 2025-10-09 00:00:00
  ‚úì USDCAD   M5  : 10,000 rows | 2025-08-21 20:10:00 to 2025-10-09 20:05:00
  ‚úì XAUUSD   M30 : 10,000 rows | 2024-12-04 15:30:00 to 2025-10-09 20:30:00
  ‚úì XAUUSD   M1  : 10,000 rows | 2025-09-30 13:13:00 to 2025-10-09 20:37:00
  ‚úì USDCAD   H4  : 10,000 rows | 2019-05-09 20:00:00 to 2025-10-09 20:00:00
  ‚úì GBPUSD   H1  : 10,000 rows | 2024-03-04 03:00:00 to 2025-10-09 19:00:00
  ‚úì AUDCAD   H1  : 10,000 rows | 2024-03-04 04:00:00 to 2025-10-09 20:00:00
  ‚úì AUDNZD   M5  : 10,000 rows | 2025-08-21 21:10:00 to 2025-10-09 20:15:00
  ‚úì AUDCAD   D1  : 6,614 rows | 2000-03-30 00:00:00 to 2025-10-09 00:00:00
  ‚úì USDCAD   M1  : 10,000 rows | 2025-09-30 18:07:00 to 2025-10-09 20:06:00
  ‚úì USDJPY   H1  : 10,000 rows | 2024-03-04 04:00:00 to 2025-10-09 20:00:00
  ‚úì AUDUSD   M5  : 10,000 rows | 2025-08-21 20:20:00 to 2025-10-09 20:10:00
  ‚úì USDCHF   M1  : 10,000 rows | 2025-09-30 18:54:00 to 2025-10-09 19:57:00
  ‚úì AUDUSD   M15 : 10,000 rows | 2025-05-16 16:15:00 to 2025-10-09 20:00:00
  ‚úì EURUSD   D1  : 6,637 rows | 2000-03-29 00:00:00 to 2025-10-09 00:00:00
  ‚úì XAUUSD   M15 : 10,000 rows | 2025-05-09 16:15:00 to 2025-10-09 20:30:00
  ‚úì AUDJPY   H1  : 10,000 rows | 2024-03-04 04:00:00 to 2025-10-09 20:00:00
  ‚úì USDCHF   H4  : 10,000 rows | 2019-05-09 16:00:00 to 2025-10-09 16:00:00
  ‚úì AUDNZD   M1  : 10,000 rows | 2025-09-30 20:02:00 to 2025-10-09 20:17:00
  ‚úì USDJPY   H4  : 10,000 rows | 2019-05-09 20:00:00 to 2025-10-09 20:00:00
  ‚úì GBPUSD   H4  : 10,000 rows | 2019-05-09 16:00:00 to 2025-10-09 16:00:00
  ‚úì AUDCAD   M1  : 10,000 rows | 2025-09-30 19:49:00 to 2025-10-09 20:23:00
  ‚úì USDCHF   H1  : 10,000 rows | 2024-03-04 03:00:00 to 2025-10-09 19:00:00
  ‚úì EURUSD   M5  : 10,000 rows | 2025-08-21 20:35:00 to 2025-10-09 19:50:00
  ‚úì AUDJPY   M5  : 10,000 rows | 2025-08-21 21:05:00 to 2025-10-09 20:30:00
  ‚úì AUDJPY   M1  : 10,000 rows | 2025-09-30 20:10:00 to 2025-10-09 20:33:00
  ‚úì AUDCAD   M5  : 10,000 rows | 2025-08-21 21:00:00 to 2025-10-09 20:20:00
  ‚úì USDJPY   M1  : 10,000 rows | 2025-09-30 18:59:00 to 2025-10-09 20:02:00
  ‚úì AUDNZD   H1  : 10,000 rows | 2024-03-04 04:00:00 to 2025-10-09 20:00:00
  ‚úì AUDUSD   M1  : 10,000 rows | 2025-09-30 18:31:00 to 2025-10-09 20:11:00
  ‚úì USDCHF   M15 : 10,000 rows | 2025-05-16 15:45:00 to 2025-10-09 19:45:00
  ‚úì AUDCHF   H4  : 10,000 rows | 2019-05-09 20:00:00 to 2025-10-09 20:00:00
  ‚úì EURUSD   M15 : 10,000 rows | 2025-05-16 16:00:00 to 2025-10-09 19:45:00
  ‚úì AUDCHF   M15 : 10,000 rows | 2025-05-16 16:30:00 to 2025-10-09 20:15:00
  ‚úì AUDJPY   M30 : 10,000 rows | 2024-12-19 12:30:00 to 2025-10-09 20:30:00
  ‚úì USDJPY   M15 : 10,000 rows | 2025-05-16 16:15:00 to 2025-10-09 20:00:00
  ‚úì GBPUSD   M1  : 10,000 rows | 2025-09-30 18:24:00 to 2025-10-09 19:52:00

üîó Consolidating 68 files...

üìä Consolidated Data Summary:
  Total rows: 666,320
  Symbols: 11
  Timeframes: 7
  Date range: 2000-03-29 00:00:00 to 2025-10-09 20:37:00

  Symbol breakdown:
    AUDCAD  : 66,614 rows
    AUDCHF  : 66,545 rows
    AUDJPY  : 60,000 rows
    AUDNZD  : 66,524 rows
    AUDUSD  : 60,000 rows
    EURUSD  : 66,637 rows
    GBPUSD  : 60,000 rows
    USDCAD  : 60,000 rows
    USDCHF  : 60,000 rows
    USDJPY  : 60,000 rows
    XAUUSD  : 40,000 rows

  Timeframe breakdown:
    D1  : 26,320 rows
    H1  : 100,000 rows
    H4  : 100,000 rows
    M1  : 110,000 rows
    M15 : 110,000 rows
    M30 : 110,000 rows
    M5  : 110,000 rows

üíæ Saved consolidated data:
  File: /kaggle/working/consolidated_ohlc_data.csv
  Size: 39.09 MB
  Processed: 68 files
  Skipped: 0 files

‚úÖ Consolidation complete!

üéØ Next step: Run data_preparation_pipeline.py with input: /kaggle/working/consolidated_ohlc_data.csv

‚è±Ô∏è Step 1 completed in 6.91 seconds

================================================================================
STEP 2: PROCESSING SMC FEATURES WITH FUZZY LOGIC
================================================================================
üß† Fuzzy Logic SMC Detection Active
   Quality threshold: 0.2

================================================================================
INSTITUTIONAL-GRADE SMC DATA PREPARATION PIPELINE
With Fuzzy Logic Integration
================================================================================

üìÇ Loading raw data from: /kaggle/working/consolidated_ohlc_data.csv
‚úì Loaded 666,320 rows
  Symbols: 11
  Timeframes: ['D1', 'H1', 'H4', 'M1', 'M15', 'M30', 'M5']
  Date range: 2000-03-29 00:00:00 to 2025-10-09 20:37:00

üîß Processing SMC features for all symbols and timeframes...

  Phase 1: Processing individual timeframes...
  Processing AUDCAD D1...
    ‚úì Valid entries: 220, Labeled: 220
  Processing AUDCAD H1...
    ‚úì Valid entries: 292, Labeled: 292
  Processing AUDCAD H4...
    ‚úì Valid entries: 306, Labeled: 306
  Processing AUDCAD M1...
    ‚úì Valid entries: 397, Labeled: 397
  Processing AUDCAD M15...
    ‚úì Valid entries: 353, Labeled: 353
  Processing AUDCAD M30...
    ‚úì Valid entries: 329, Labeled: 329
  Processing AUDCAD M5...
    ‚úì Valid entries: 319, Labeled: 319
  Processing AUDCHF D1...
    ‚úì Valid entries: 217, Labeled: 217
  Processing AUDCHF H1...
    ‚úì Valid entries: 343, Labeled: 343
  Processing AUDCHF H4...
    ‚úì Valid entries: 363, Labeled: 363
  Processing AUDCHF M1...
    ‚úì Valid entries: 370, Labeled: 370
  Processing AUDCHF M15...
    ‚úì Valid entries: 389, Labeled: 389
  Processing AUDCHF M30...
    ‚úì Valid entries: 359, Labeled: 359
  Processing AUDCHF M5...
    ‚úì Valid entries: 329, Labeled: 329
  Processing AUDJPY D1...
    ‚ö†Ô∏è Insufficient data (0 rows), skipping
  Processing AUDJPY H1...
    ‚úì Valid entries: 365, Labeled: 365
  Processing AUDJPY H4...
    ‚úì Valid entries: 345, Labeled: 345
  Processing AUDJPY M1...
    ‚úì Valid entries: 421, Labeled: 421
  Processing AUDJPY M15...
    ‚úì Valid entries: 345, Labeled: 345
  Processing AUDJPY M30...
    ‚úì Valid entries: 349, Labeled: 349
  Processing AUDJPY M5...
    ‚úì Valid entries: 311, Labeled: 311
  Processing AUDNZD D1...
    ‚úì Valid entries: 215, Labeled: 215
  Processing AUDNZD H1...
    ‚úì Valid entries: 267, Labeled: 267
  Processing AUDNZD H4...
    ‚úì Valid entries: 321, Labeled: 321
  Processing AUDNZD M1...
    ‚úì Valid entries: 279, Labeled: 279
  Processing AUDNZD M15...
    ‚úì Valid entries: 259, Labeled: 259
  Processing AUDNZD M30...
    ‚úì Valid entries: 269, Labeled: 269
  Processing AUDNZD M5...
    ‚úì Valid entries: 255, Labeled: 255
  Processing AUDUSD D1...
    ‚ö†Ô∏è Insufficient data (0 rows), skipping
  Processing AUDUSD H1...
    ‚úì Valid entries: 377, Labeled: 377
  Processing AUDUSD H4...
    ‚úì Valid entries: 382, Labeled: 382
  Processing AUDUSD M1...
    ‚úì Valid entries: 478, Labeled: 478
  Processing AUDUSD M15...
    ‚úì Valid entries: 377, Labeled: 377
  Processing AUDUSD M30...
    ‚úì Valid entries: 376, Labeled: 376
  Processing AUDUSD M5...
    ‚úì Valid entries: 334, Labeled: 334
  Processing EURUSD D1...
    ‚úì Valid entries: 254, Labeled: 254
  Processing EURUSD H1...
    ‚úì Valid entries: 340, Labeled: 340
  Processing EURUSD H4...
    ‚úì Valid entries: 377, Labeled: 377
  Processing EURUSD M1...
    ‚úì Valid entries: 472, Labeled: 472
  Processing EURUSD M15...
    ‚úì Valid entries: 337, Labeled: 337
  Processing EURUSD M30...
    ‚úì Valid entries: 343, Labeled: 343
  Processing EURUSD M5...
    ‚úì Valid entries: 345, Labeled: 345
  Processing GBPUSD D1...
    ‚ö†Ô∏è Insufficient data (0 rows), skipping
  Processing GBPUSD H1...
    ‚úì Valid entries: 316, Labeled: 316
  Processing GBPUSD H4...
    ‚úì Valid entries: 371, Labeled: 371
  Processing GBPUSD M1...
    ‚úì Valid entries: 513, Labeled: 513
  Processing GBPUSD M15...
    ‚úì Valid entries: 304, Labeled: 304
  Processing GBPUSD M30...
    ‚úì Valid entries: 359, Labeled: 359
  Processing GBPUSD M5...
    ‚úì Valid entries: 387, Labeled: 387
  Processing USDCAD D1...
    ‚ö†Ô∏è Insufficient data (0 rows), skipping
  Processing USDCAD H1...
    ‚úì Valid entries: 290, Labeled: 290
  Processing USDCAD H4...
    ‚úì Valid entries: 382, Labeled: 382
  Processing USDCAD M1...
    ‚úì Valid entries: 546, Labeled: 546
  Processing USDCAD M15...
    ‚úì Valid entries: 304, Labeled: 304
  Processing USDCAD M30...
    ‚úì Valid entries: 333, Labeled: 333
  Processing USDCAD M5...
    ‚úì Valid entries: 347, Labeled: 347
  Processing USDCHF D1...
    ‚ö†Ô∏è Insufficient data (0 rows), skipping
  Processing USDCHF H1...
    ‚úì Valid entries: 321, Labeled: 321
  Processing USDCHF H4...
    ‚úì Valid entries: 334, Labeled: 334
  Processing USDCHF M1...
    ‚úì Valid entries: 535, Labeled: 535
  Processing USDCHF M15...
    ‚úì Valid entries: 318, Labeled: 318
  Processing USDCHF M30...
    ‚úì Valid entries: 365, Labeled: 365
  Processing USDCHF M5...
    ‚úì Valid entries: 380, Labeled: 380
  Processing USDJPY D1...
    ‚ö†Ô∏è Insufficient data (0 rows), skipping
  Processing USDJPY H1...
    ‚úì Valid entries: 345, Labeled: 345
  Processing USDJPY H4...
    ‚úì Valid entries: 383, Labeled: 383
  Processing USDJPY M1...
    ‚úì Valid entries: 507, Labeled: 507
  Processing USDJPY M15...
    ‚úì Valid entries: 405, Labeled: 405
  Processing USDJPY M30...
    ‚úì Valid entries: 400, Labeled: 400
  Processing USDJPY M5...
    ‚úì Valid entries: 342, Labeled: 342
  Processing XAUUSD D1...
    ‚ö†Ô∏è Insufficient data (0 rows), skipping
  Processing XAUUSD H1...
    ‚ö†Ô∏è Insufficient data (0 rows), skipping
  Processing XAUUSD H4...
    ‚ö†Ô∏è Insufficient data (0 rows), skipping
  Processing XAUUSD M1...
    ‚úì Valid entries: 427, Labeled: 427
  Processing XAUUSD M15...
    ‚úì Valid entries: 400, Labeled: 400
  Processing XAUUSD M30...
    ‚úì Valid entries: 397, Labeled: 397
  Processing XAUUSD M5...
    ‚úì Valid entries: 373, Labeled: 373

  Phase 2: Adding multi-timeframe confluence...

‚úì Processing complete: 478,353 total rows

üîç Validating Pipeline Output...

======================================================================
  ‚úì OB Detection
  ‚úì OB Displacement
  ‚úì FVG Detection
  ‚úì Market Structure
  ‚úì TBM Labeling
  ‚úì MTF Confluence
  ‚úì Regime Classification
  ‚úì Feature Standardization
  ‚úì Fuzzy Logic
  ‚úì Has Labeled Data
======================================================================

‚úÖ All validation checks passed!

üìä INSTITUTIONAL-GRADE SMC PIPELINE SUMMARY
================================================================================

üìà Dataset Overview:
  Total rows: 478,353
  Symbols: 11
  Timeframes: ['M15', nan, 'H1', 'H4']
  Date range: 2019-05-09 16:00:00 to 2025-10-09 20:30:00

üèõÔ∏è SMC Structures Detected (Fuzzy Logic):
  Order Blocks (Bullish): 19,843.0
  Order Blocks (Bearish): 19,998.0
  Fair Value Gaps (Bullish): 11,652.0
  Fair Value Gaps (Bearish): 11,808.0

üìê Market Structure (BOS & ChoCH):
  BOS Wick Breaks: 104,139.0
  BOS Close Breaks (High Conviction): 49,937.0
  BOS Commitment Flags: 49,937.0
  ChoCH Detected: 20,535.0

üß† Fuzzy Logic Quality Scores:
  Order Block Quality:
    Average: 0.546
    Min: 0.200, Max: 1.000
    Median: 0.521
  Fair Value Gap Quality:
    Average: 0.611
    Min: 0.200, Max: 1.000
    Median: 0.621

üîó Multi-Timeframe Confluence:
  Setups with HTF OB Confluence: 0
  Setups with HTF FVG Confluence: 0
  Setups with HTF Trend Alignment: 168,353

‚úÖ Valid Setups (After Regime Filtering):
  Valid Bullish OBs: 2,396
  Valid Bearish OBs: 2,281
  Valid Bullish FVGs: 3,020
  Valid Bearish FVGs: 2,951

üéØ Triple Barrier Method (TBM) Labels:
  Total labeled entries: 10,611
    Loss    :  4,365 ( 41.1%)
    Timeout :    815 (  7.7%)
    Win     :  5,431 ( 51.2%)

  Win Rate (excl. timeouts): 55.4%
  Loss Rate (excl. timeouts): 44.6%
  Average Bars to Hit Target: 4.4

üåê Market Regime Distribution (Fuzzy Logic):
  Normal              :  115,950 ( 24.2%)
  Low_Vol             :   91,964 ( 19.2%)
  High_Vol            :   39,267 (  8.2%)
  Low_Vol_Chop        :   37,568 (  7.9%)
  High_Vol_Trend      :   25,251 (  5.3%)

üìä Feature Engineering (ATR Normalization + Z-Score):
  Z-Score Standardized Features: 9
    - OB_Displacement_Mag_ZScore
    - ATR_ZScore
    - OB_Displacement_ATR_ZScore
    - Displacement_Mag_ZScore
    - OB_Size_ATR_ZScore
    ... and 4 more

================================================================================

‚úÖ PIPELINE VALIDATION:
  ‚úì Order Block Detection (with displacement validation)
  ‚úì Fair Value Gap Detection (with mitigation tracking)
  ‚úì Market Structure (BOS & ChoCH)
  ‚úì Triple Barrier Method Labeling
  ‚úì Multi-Timeframe Confluence
  ‚úì Contextual Filtering & Regime Classification
  ‚úì ATR Normalization + Z-Score Standardization
  ‚úì Fuzzy Logic Integration (adaptive thresholds)

================================================================================

üíæ Saving processed data to: /kaggle/working/processed_smc_data.csv
‚úì Saved full dataset: 478,353 rows (200.71 MB)

üìä Splitting data with fuzzy quality stratification...
  AUDCAD: Stratified by fuzzy quality (3 strata)
  ‚ö†Ô∏è Skipping nan - insufficient data
  AUDCHF: Stratified by fuzzy quality (3 strata)
  AUDJPY: Stratified by fuzzy quality (3 strata)
  AUDNZD: Stratified by fuzzy quality (3 strata)
  AUDUSD: Stratified by fuzzy quality (3 strata)
  EURUSD: Stratified by fuzzy quality (3 strata)
  GBPUSD: Stratified by fuzzy quality (3 strata)
  USDCAD: Stratified by fuzzy quality (3 strata)
  USDCHF: Stratified by fuzzy quality (3 strata)
  USDJPY: Stratified by fuzzy quality (3 strata)
  XAUUSD: Stratified by fuzzy quality (3 strata)
  TRAIN: 76,982 rows, Quality Œº=0.072 œÉ=0.197
  VAL: 16,500 rows, Quality Œº=0.072 œÉ=0.198
  TEST: 16,518 rows, Quality Œº=0.072 œÉ=0.197
  Using fuzzy quality stratification
‚úì Saved train split: 76,982 rows (46.93 MB)
‚úì Saved val split: 16,500 rows (10.08 MB)
‚úì Saved test split: 16,518 rows (10.09 MB)

üîç Validating fuzzy quality distribution across splits...

  OB_Quality_Fuzzy:
    Split    Mean     Std      Q25      Q50      Q75     
    --------------------------------------------------------
    train    0.072    0.197    0.000    0.000    0.000   
    val      0.072    0.198    0.000    0.000    0.000   
    test     0.072    0.197    0.000    0.000    0.000   

  FVG_Quality_Fuzzy:
    Split    Mean     Std      Q25      Q50      Q75     
    --------------------------------------------------------
    train    0.049    0.178    0.000    0.000    0.000   
    val      0.051    0.181    0.000    0.000    0.000   
    test     0.052    0.182    0.000    0.000    0.000   

  HTF_Confluence_Quality:
    Split    Mean     Std      Q25      Q50      Q75     
    --------------------------------------------------------
    train    0.000    0.000    0.000    0.000    0.000   
    val      0.000    0.000    0.000    0.000    0.000   
    test     0.000    0.000    0.000    0.000    0.000   

  Distribution Consistency Check:
    ‚úì OB_Quality_Fuzzy: Train-Test difference = 0.4%
    ‚úì FVG_Quality_Fuzzy: Train-Test difference = 5.2%
    ‚ö†Ô∏è HTF_Confluence_Quality: Train-Test difference = nan%
‚úì Saved quality statistics
‚úì Saved feature list: 58 features

‚úÖ Pipeline complete! Data ready for ML training.

================================================================================
PIPELINE COMPLETE!
================================================================================

‚è±Ô∏è Execution Time:
  Step 1 (Consolidation): 6.91s
  Step 2 (SMC Processing): 1860.20s
  Total: 1867.10s (31.12 minutes)

üìÅ Output Files:

  Consolidated Data:
    /kaggle/working/consolidated_ohlc_data.csv

  Processed Data:
    /kaggle/working/processed_smc_data.csv
    /kaggle/working/processed_smc_data_train.csv
    /kaggle/working/processed_smc_data_val.csv
    /kaggle/working/processed_smc_data_test.csv
    /kaggle/working/processed_smc_data_feature_list.txt
    /kaggle/working/processed_smc_data_quality_stats.txt

üéØ Next Steps:
  1. Review the summary report above
  2. Check feature_list.txt for ML features
  3. Load train/val/test splits for model training
  4. Train your ML model (Random Forest, XGBoost, Neural Network)
  5. Predict TBM_Label (-1=Loss, 0=Timeout, 1=Win)

‚úÖ All done! Your data is ready for ML training.

‚úÖ Data pipeline completed
   Processed: 478,353 rows

================================================================================
ü§ñ TRAINING ALL MODELS
================================================================================

üîç Checking data availability...
  ‚úì Train data: /kaggle/working/processed_smc_data_train.csv
  ‚úì Val data:   /kaggle/working/processed_smc_data_val.csv
  ‚úì Test data:  /kaggle/working/processed_smc_data_test.csv

üìä Available symbols: ['AUDCAD', 'AUDCHF', 'AUDJPY', 'AUDNZD', 'AUDUSD', 'EURUSD', 'GBPUSD', 'USDCAD', 'USDCHF', 'USDJPY', 'XAUUSD']

üìä Training 11 symbols: ['AUDCAD', 'AUDCHF', 'AUDJPY', 'AUDNZD', 'AUDUSD', 'EURUSD', 'GBPUSD', 'USDCAD', 'USDCHF', 'USDJPY', 'XAUUSD']

################################################################################
# TRAINING: AUDCAD
################################################################################

################################################################################
# Training All Models for AUDCAD
################################################################################

================================================================================
Training Random Forest for AUDCAD
================================================================================

üìÇ Loading data for AUDCAD...
  Excluding timeout samples (TBM_Label == 0)
  Train: 225 samples
  Val:   46 samples
  Test:  59 samples
  Selected 57 features
  Remapped labels: [0 1]

üå≤ Training Random Forest for AUDCAD...
  Training samples: 225
  Features: 57

  üìä Dataset has 225 samples (< 300), applying augmentation...
  Augmented: 225 ‚Üí 230 samples

  üîÑ Performing cross-validation...

üîÑ Performing 5-fold cross-validation...

üå≤ Training Random Forest for AUDCAD...
  Training samples: 184
  Features: 57

  üìä Dataset has 184 samples (< 300), applying augmentation...
  Augmented: 184 ‚Üí 184 samples

  Train accuracy: 0.793
  Val accuracy:   0.739
  Train-Val gap:  0.054
  ‚úÖ Good generalization (gap ‚â§ 15%)

  Top 10 Most Important Features:
    TBM_Reward_Per_Trade_ATR                : 0.0751
    TBM_Risk_Per_Trade_ATR                  : 0.0727
    TBM_Bars_to_Hit                         : 0.0683
    FVG_Mitigated                           : 0.0586
    OB_Age                                  : 0.0505
    FVG_Depth_ATR_ZScore                    : 0.0406
    Distance_to_Entry_ATR                   : 0.0401
    FVG_Distance_to_Price_ATR_ZScore        : 0.0385
    FVG_Distance_to_Price_ATR               : 0.0363
    FVG_Quality_Fuzzy                       : 0.0327
  Fold 1/5: Accuracy=0.739, F1=0.737

üå≤ Training Random Forest for AUDCAD...
  Training samples: 184
  Features: 57

  üìä Dataset has 184 samples (< 300), applying augmentation...
  Augmented: 184 ‚Üí 184 samples

  Train accuracy: 0.734
  Val accuracy:   0.630
  Train-Val gap:  0.103
  ‚úÖ Good generalization (gap ‚â§ 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.0711
    FVG_Distance_to_Price_ATR               : 0.0627
    TBM_Risk_Per_Trade_ATR                  : 0.0615
    FVG_Quality_Fuzzy                       : 0.0588
    FVG_Mitigated                           : 0.0580
    FVG_Distance_to_Price_ATR_ZScore        : 0.0519
    TBM_Bars_to_Hit                         : 0.0517
    FVG_Size_Fuzzy_Score                    : 0.0475
    TBM_Reward_Per_Trade_ATR                : 0.0468
    FVG_Depth_ATR                           : 0.0412
  Fold 2/5: Accuracy=0.630, F1=0.630

üå≤ Training Random Forest for AUDCAD...
  Training samples: 184
  Features: 57

  üìä Dataset has 184 samples (< 300), applying augmentation...
  Augmented: 184 ‚Üí 184 samples

  Train accuracy: 0.815
  Val accuracy:   0.609
  Train-Val gap:  0.207
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    TBM_Risk_Per_Trade_ATR                  : 0.0802
    TBM_Reward_Per_Trade_ATR                : 0.0735
    OB_Age                                  : 0.0667
    FVG_Mitigated                           : 0.0501
    FVG_Distance_to_Price_ATR_ZScore        : 0.0446
    OB_Mitigated                            : 0.0441
    Distance_to_Entry_ATR                   : 0.0424
    FVG_Bearish                             : 0.0366
    FVG_Bearish_Valid                       : 0.0338
    FVG_Quality_Fuzzy                       : 0.0318
  Fold 3/5: Accuracy=0.609, F1=0.608

üå≤ Training Random Forest for AUDCAD...
  Training samples: 184
  Features: 57

  üìä Dataset has 184 samples (< 300), applying augmentation...
  Augmented: 184 ‚Üí 184 samples

  Train accuracy: 0.761
  Val accuracy:   0.739
  Train-Val gap:  0.022
  ‚úÖ Good generalization (gap ‚â§ 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.0705
    FVG_Quality_Fuzzy                       : 0.0634
    TBM_Reward_Per_Trade_ATR                : 0.0588
    FVG_Mitigated                           : 0.0546
    TBM_Risk_Per_Trade_ATR                  : 0.0498
    TBM_Bars_to_Hit                         : 0.0480
    FVG_Depth_ATR_ZScore                    : 0.0458
    FVG_Size_Fuzzy_Score                    : 0.0454
    FVG_Distance_to_Price_ATR_ZScore        : 0.0423
    FVG_Distance_to_Price_ATR               : 0.0340
  Fold 4/5: Accuracy=0.739, F1=0.739

üå≤ Training Random Forest for AUDCAD...
  Training samples: 184
  Features: 57

  üìä Dataset has 184 samples (< 300), applying augmentation...
  Augmented: 184 ‚Üí 184 samples

  Train accuracy: 0.810
  Val accuracy:   0.739
  Train-Val gap:  0.071
  ‚úÖ Good generalization (gap ‚â§ 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.0773
    TBM_Bars_to_Hit                         : 0.0735
    TBM_Risk_Per_Trade_ATR                  : 0.0655
    TBM_Reward_Per_Trade_ATR                : 0.0577
    Distance_to_Entry_ATR                   : 0.0494
    FVG_Quality_Fuzzy                       : 0.0464
    FVG_Mitigated                           : 0.0417
    FVG_Distance_to_Price_ATR_ZScore        : 0.0402
    FVG_Distance_to_Price_ATR               : 0.0379
    FVG_Depth_ATR_ZScore                    : 0.0337
  Fold 5/5: Accuracy=0.739, F1=0.737

  Cross-Validation Results:
    Mean Accuracy: 0.691 ¬± 0.059
    Mean F1-Score: 0.690 ¬± 0.058
    ‚úÖ Model is stable across folds

  Train accuracy: 0.909
  Val accuracy:   0.587
  Train-Val gap:  0.322
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    TBM_Reward_Per_Trade_ATR                : 0.0605
    TBM_Risk_Per_Trade_ATR                  : 0.0577
    OB_Age                                  : 0.0533
    TBM_Bars_to_Hit                         : 0.0490
    FVG_Distance_to_Price_ATR_ZScore        : 0.0485
    FVG_Mitigated                           : 0.0422
    FVG_Quality_Fuzzy                       : 0.0414
    FVG_Depth_ATR                           : 0.0321
    FVG_Size_Fuzzy_Score                    : 0.0312
    FVG_Depth_ATR_ZScore                    : 0.0299

üìä Evaluating on Validation set...

  Accuracy: 0.587
  Precision (macro): 0.539
  Recall (macro): 0.537
  F1-Score (macro): 0.538

  Win Rate (excl. timeouts):
    Predicted: 67.4%
    Actual:    65.2%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss           6        10
  True Win            9        21

  Overfitting Analysis:
    Training Accuracy: 0.909
    Validation Accuracy: 0.587
    Train-Val Gap: 0.322
    ‚ö†Ô∏è OVERFITTING DETECTED (gap > 15%)

üìä Evaluating on Test set...

  Accuracy: 0.678
  Precision (macro): 0.678
  Recall (macro): 0.678
  F1-Score (macro): 0.678

  Win Rate (excl. timeouts):
    Predicted: 52.5%
    Actual:    50.8%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          19        10
  True Win            9        21

‚ùå Random Forest training failed: Object of type bool_ is not JSON serializable

================================================================================
Training XGBoost for AUDCAD
================================================================================

üìÇ Loading data for AUDCAD...
  Excluding timeout samples (TBM_Label == 0)
  Train: 225 samples
  Val:   46 samples
  Test:  59 samples
  Selected 57 features
  Remapped labels: [0 1]

üöÄ Training XGBoost for AUDCAD...
  Training samples: 225
  Features: 57

  Train accuracy: 1.000
  Val accuracy:   0.609
  Best iteration: 200

  Top 10 Most Important Features:
    FVG_Depth_ATR                           : 0.0966
    OB_Age                                  : 0.0751
    TBM_Risk_Per_Trade_ATR                  : 0.0497
    OB_Displacement_Fuzzy_Score             : 0.0423
    BOS_Wick_Confirm                        : 0.0402
    ChoCH_Direction                         : 0.0377
    TBM_Reward_Per_Trade_ATR                : 0.0343
    TBM_Bars_to_Hit                         : 0.0289
    FVG_Distance_to_Price_ATR_ZScore        : 0.0280
    OB_Size_ATR                             : 0.0275

üìä Evaluating on Validation set...

  Accuracy: 0.609
  Precision (macro): 0.569
  Recall (macro): 0.569
  F1-Score (macro): 0.569

  Win Rate (excl. timeouts):
    Predicted: 65.2%
    Actual:    65.2%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss           7         9
  True Win            9        21

  Overfitting Analysis:
    Training Accuracy: 1.000
    Validation Accuracy: 0.609
    Train-Val Gap: 0.391
    ‚ö†Ô∏è OVERFITTING DETECTED (gap > 15%)

üìä Evaluating on Test set...

  Accuracy: 0.644
  Precision (macro): 0.648
  Recall (macro): 0.643
  F1-Score (macro): 0.640

  Win Rate (excl. timeouts):
    Predicted: 59.3%
    Actual:    50.8%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          16        13
  True Win            8        22

üíæ Model saved to /kaggle/working

================================================================================
Training Neural Network for AUDCAD
================================================================================

üìÇ Loading data for AUDCAD...
  Excluding timeout samples (TBM_Label == 0)
  Train: 225 samples
  Val:   46 samples
  Test:  59 samples
  Selected 57 features
  Remapped labels: [0 1]

üß† Training Neural Network for AUDCAD...
  Device: cuda
  Training samples: 225
  Features: 57
  Architecture: 57 -> 512 -> 256 -> 128 -> 64 -> 3

  Dataset has < 300 samples. Applying data augmentation...
  Augmented training samples: 230
  Epoch 10/200 - LR: 0.010000 - Train Loss: 0.7769, Train Acc: 0.748 | Val Loss: 0.8639, Val Acc: 0.739
  Epoch 20/200 - LR: 0.005000 - Train Loss: 0.7160, Train Acc: 0.830 | Val Loss: 0.8562, Val Acc: 0.739
  Epoch 30/200 - LR: 0.002500 - Train Loss: 0.7016, Train Acc: 0.835 | Val Loss: 0.8721, Val Acc: 0.739
  Epoch 40/200 - LR: 0.001250 - Train Loss: 0.6537, Train Acc: 0.887 | Val Loss: 0.8821, Val Acc: 0.783
  Epoch 50/200 - LR: 0.000313 - Train Loss: 0.6885, Train Acc: 0.865 | Val Loss: 0.8721, Val Acc: 0.739

  Early stopping at epoch 53 (patience=30)
Learning curves saved to: models/trained/AUDCAD_NN_learning_curves.png
Overfitting metrics saved to: models/trained/AUDCAD_NN_overfitting_metrics.json

============================================================
OVERFITTING MONITOR SUMMARY
============================================================
Status: ‚úì HEALTHY
Train-Val Gap: 7.83% (Threshold: 15%)
Total Epochs: 53
Training Duration: 0:00:02.864191

Final Metrics:
  Train Accuracy: 0.8609
  Val Accuracy:   0.7826
  Train Loss:     0.6847
  Val Loss:       0.8958

Best Epoch (Highest Val Accuracy):
  Epoch:          27
  Train Accuracy: 0.8174
  Val Accuracy:   0.7826
  Train Loss:     0.7483
  Val Loss:       0.8546
============================================================


  Final Train Accuracy: 0.861
  Final Val Accuracy:   0.783
  Train-Val Gap:        0.078 (7.8%)

üìä Evaluating on Validation set...

  Accuracy: 0.783
  Precision (macro): 0.789
  Recall (macro): 0.717
  F1-Score (macro): 0.732

  Win Rate (excl. timeouts):
    Predicted: 78.3%
    Actual:    65.2%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss           8         8
  True Win            2        28

üìä Evaluating on Test set...

  Accuracy: 0.610
  Precision (macro): 0.620
  Recall (macro): 0.607
  F1-Score (macro): 0.599

  Win Rate (excl. timeouts):
    Predicted: 66.1%
    Actual:    50.8%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          13        16
  True Win            7        23

üíæ Model saved to /kaggle/working

================================================================================
Training LSTM for AUDCAD
================================================================================

üìÇ Loading data for AUDCAD...
  Excluding timeout samples (TBM_Label == 0)
  Train: 225 samples
  Val:   46 samples
  Test:  59 samples
  Selected 57 features
  Remapped labels: [0 1]

üîÑ Training LSTM for AUDCAD...
  Device: cuda
  Lookback window: 20 candles
  Training samples: 225
  Features: 57
  Creating sequences...
  Sequence shape: (205, 20, 57)
  Epoch 10/200 - LR: 0.001045 - Train Loss: 0.5876, Train Acc: 0.673 | Val Loss: 0.8632, Val Acc: 0.538
  Epoch 20/200 - LR: 0.002806 - Train Loss: 0.5832, Train Acc: 0.737 | Val Loss: 1.1478, Val Acc: 0.385
  Epoch 30/200 - LR: 0.005210 - Train Loss: 0.4198, Train Acc: 0.863 | Val Loss: 2.3498, Val Acc: 0.577

  Early stopping at epoch 33

  Final Train Accuracy: 0.873
  Final Val Accuracy:   0.731

üìä Evaluating on Validation set...

  Accuracy: 0.609
  Precision (macro): 0.616
  Recall (macro): 0.627
  F1-Score (macro): 0.602

  Win Rate (excl. timeouts):
    Predicted: 47.8%
    Actual:    65.2%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          11         5
  True Win           13        17

üìä Evaluating on Test set...

  Accuracy: 0.407
  Precision (macro): 0.407
  Recall (macro): 0.407
  F1-Score (macro): 0.406

  Win Rate (excl. timeouts):
    Predicted: 45.8%
    Actual:    50.8%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          13        16
  True Win           19        11

üíæ Model saved to /kaggle/working

################################################################################
# TRAINING: AUDCHF
################################################################################

################################################################################
# Training All Models for AUDCHF
################################################################################

================================================================================
Training Random Forest for AUDCHF
================================================================================

üìÇ Loading data for AUDCHF...
  Excluding timeout samples (TBM_Label == 0)
  Train: 254 samples
  Val:   55 samples
  Test:  45 samples
  Selected 57 features
  Remapped labels: [0 1]

üå≤ Training Random Forest for AUDCHF...
  Training samples: 254
  Features: 57

  üìä Dataset has 254 samples (< 300), applying augmentation...
  Augmented: 254 ‚Üí 264 samples

  üîÑ Performing cross-validation...

üîÑ Performing 5-fold cross-validation...

üå≤ Training Random Forest for AUDCHF...
  Training samples: 211
  Features: 57

  üìä Dataset has 211 samples (< 300), applying augmentation...
  Augmented: 211 ‚Üí 212 samples

  Train accuracy: 0.830
  Val accuracy:   0.755
  Train-Val gap:  0.075
  ‚úÖ Good generalization (gap ‚â§ 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.0896
    TBM_Bars_to_Hit                         : 0.0672
    TBM_Reward_Per_Trade_ATR                : 0.0553
    FVG_Mitigated                           : 0.0478
    TBM_Risk_Per_Trade_ATR                  : 0.0459
    FVG_Depth_ATR_ZScore                    : 0.0349
    FVG_Distance_to_Price_ATR_ZScore        : 0.0337
    Distance_to_Entry_ATR                   : 0.0334
    FVG_Size_Fuzzy_Score                    : 0.0281
    FVG_Quality_Fuzzy                       : 0.0246
  Fold 1/5: Accuracy=0.755, F1=0.752

üå≤ Training Random Forest for AUDCHF...
  Training samples: 211
  Features: 57

  üìä Dataset has 211 samples (< 300), applying augmentation...
  Augmented: 211 ‚Üí 212 samples

  Train accuracy: 0.849
  Val accuracy:   0.585
  Train-Val gap:  0.264
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    TBM_Bars_to_Hit                         : 0.0962
    TBM_Reward_Per_Trade_ATR                : 0.0865
    OB_Age                                  : 0.0699
    TBM_Risk_Per_Trade_ATR                  : 0.0618
    FVG_Size_Fuzzy_Score                    : 0.0488
    Distance_to_Entry_ATR                   : 0.0435
    FVG_Quality_Fuzzy                       : 0.0389
    FVG_Depth_ATR_ZScore                    : 0.0373
    FVG_Distance_to_Price_ATR_ZScore        : 0.0349
    FVG_Depth_ATR                           : 0.0318
  Fold 2/5: Accuracy=0.585, F1=0.584

üå≤ Training Random Forest for AUDCHF...
  Training samples: 211
  Features: 57

  üìä Dataset has 211 samples (< 300), applying augmentation...
  Augmented: 211 ‚Üí 212 samples

  Train accuracy: 0.863
  Val accuracy:   0.660
  Train-Val gap:  0.203
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.0846
    TBM_Bars_to_Hit                         : 0.0693
    TBM_Reward_Per_Trade_ATR                : 0.0668
    TBM_Risk_Per_Trade_ATR                  : 0.0668
    Distance_to_Entry_ATR                   : 0.0379
    FVG_Distance_to_Price_ATR_ZScore        : 0.0332
    FVG_Mitigated                           : 0.0311
    BOS_Dist_ATR_ZScore                     : 0.0282
    Bullish_Trend_Fuzzy                     : 0.0276
    FVG_Depth_ATR                           : 0.0274
  Fold 3/5: Accuracy=0.660, F1=0.657

üå≤ Training Random Forest for AUDCHF...
  Training samples: 211
  Features: 57

  üìä Dataset has 211 samples (< 300), applying augmentation...
  Augmented: 211 ‚Üí 212 samples

  Train accuracy: 0.849
  Val accuracy:   0.717
  Train-Val gap:  0.132
  ‚úÖ Good generalization (gap ‚â§ 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1070
    TBM_Reward_Per_Trade_ATR                : 0.0601
    TBM_Bars_to_Hit                         : 0.0550
    TBM_Risk_Per_Trade_ATR                  : 0.0529
    FVG_Depth_ATR_ZScore                    : 0.0433
    OB_Bullish_Valid                        : 0.0406
    Distance_to_Entry_ATR                   : 0.0396
    FVG_Mitigated                           : 0.0372
    FVG_Depth_ATR                           : 0.0337
    FVG_Quality_Fuzzy                       : 0.0312
  Fold 4/5: Accuracy=0.717, F1=0.715

üå≤ Training Random Forest for AUDCHF...
  Training samples: 212
  Features: 57

  üìä Dataset has 212 samples (< 300), applying augmentation...
  Augmented: 212 ‚Üí 212 samples

  Train accuracy: 0.792
  Val accuracy:   0.596
  Train-Val gap:  0.196
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.0811
    TBM_Bars_to_Hit                         : 0.0680
    FVG_Distance_to_Price_ATR_ZScore        : 0.0673
    FVG_Depth_ATR_ZScore                    : 0.0641
    FVG_Quality_Fuzzy                       : 0.0631
    FVG_Size_Fuzzy_Score                    : 0.0486
    TBM_Reward_Per_Trade_ATR                : 0.0414
    TBM_Risk_Per_Trade_ATR                  : 0.0364
    FVG_Depth_ATR                           : 0.0353
    FVG_Distance_to_Price_ATR               : 0.0333
  Fold 5/5: Accuracy=0.596, F1=0.596

  Cross-Validation Results:
    Mean Accuracy: 0.663 ¬± 0.066
    Mean F1-Score: 0.661 ¬± 0.065
    ‚úÖ Model is stable across folds

  Train accuracy: 0.932
  Val accuracy:   0.455
  Train-Val gap:  0.477
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.0755
    TBM_Bars_to_Hit                         : 0.0717
    TBM_Risk_Per_Trade_ATR                  : 0.0549
    TBM_Reward_Per_Trade_ATR                : 0.0536
    FVG_Distance_to_Price_ATR_ZScore        : 0.0412
    FVG_Depth_ATR_ZScore                    : 0.0364
    Distance_to_Entry_ATR                   : 0.0361
    FVG_Depth_ATR                           : 0.0298
    FVG_Distance_to_Price_ATR               : 0.0295
    FVG_Size_Fuzzy_Score                    : 0.0277

üìä Evaluating on Validation set...

  Accuracy: 0.455
  Precision (macro): 0.463
  Recall (macro): 0.462
  F1-Score (macro): 0.453

  Win Rate (excl. timeouts):
    Predicted: 45.5%
    Actual:    60.0%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          11        11
  True Win           19        14

  Overfitting Analysis:
    Training Accuracy: 0.932
    Validation Accuracy: 0.455
    Train-Val Gap: 0.477
    ‚ö†Ô∏è OVERFITTING DETECTED (gap > 15%)

üìä Evaluating on Test set...

  Accuracy: 0.711
  Precision (macro): 0.722
  Recall (macro): 0.717
  F1-Score (macro): 0.711

  Win Rate (excl. timeouts):
    Predicted: 57.8%
    Actual:    46.7%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          15         9
  True Win            4        17

‚ùå Random Forest training failed: Object of type bool_ is not JSON serializable

================================================================================
Training XGBoost for AUDCHF
================================================================================

üìÇ Loading data for AUDCHF...
  Excluding timeout samples (TBM_Label == 0)
  Train: 254 samples
  Val:   55 samples
  Test:  45 samples
  Selected 57 features
  Remapped labels: [0 1]

üöÄ Training XGBoost for AUDCHF...
  Training samples: 254
  Features: 57

  Train accuracy: 1.000
  Val accuracy:   0.509
  Best iteration: 200

  Top 10 Most Important Features:
    OB_Age                                  : 0.1035
    BOS_Close_Confirm                       : 0.0548
    Displacement_Mag_ZScore                 : 0.0492
    TBM_Reward_Per_Trade_ATR                : 0.0485
    TBM_Risk_Per_Trade_ATR                  : 0.0458
    Overbought_Fuzzy                        : 0.0444
    FVG_Distance_to_Price_ATR_ZScore        : 0.0421
    TBM_Bars_to_Hit                         : 0.0411
    FVG_Bullish                             : 0.0371
    OB_Displacement_Fuzzy_Score             : 0.0349

üìä Evaluating on Validation set...

  Accuracy: 0.509
  Precision (macro): 0.539
  Recall (macro): 0.538
  F1-Score (macro): 0.508

  Win Rate (excl. timeouts):
    Predicted: 36.4%
    Actual:    60.0%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          15         7
  True Win           20        13

  Overfitting Analysis:
    Training Accuracy: 1.000
    Validation Accuracy: 0.509
    Train-Val Gap: 0.491
    ‚ö†Ô∏è OVERFITTING DETECTED (gap > 15%)

üìä Evaluating on Test set...

  Accuracy: 0.644
  Precision (macro): 0.643
  Recall (macro): 0.643
  F1-Score (macro): 0.643

  Win Rate (excl. timeouts):
    Predicted: 46.7%
    Actual:    46.7%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          16         8
  True Win            8        13

üíæ Model saved to /kaggle/working

================================================================================
Training Neural Network for AUDCHF
================================================================================

üìÇ Loading data for AUDCHF...
  Excluding timeout samples (TBM_Label == 0)
  Train: 254 samples
  Val:   55 samples
  Test:  45 samples
  Selected 57 features
  Remapped labels: [0 1]

üß† Training Neural Network for AUDCHF...
  Device: cuda
  Training samples: 254
  Features: 57
  Architecture: 57 -> 512 -> 256 -> 128 -> 64 -> 3

  Dataset has < 300 samples. Applying data augmentation...
  Augmented training samples: 264
  Epoch 10/200 - LR: 0.005000 - Train Loss: 0.8624, Train Acc: 0.712 | Val Loss: 0.9848, Val Acc: 0.527
  Epoch 20/200 - LR: 0.002500 - Train Loss: 0.7495, Train Acc: 0.799 | Val Loss: 1.0077, Val Acc: 0.527
  Epoch 30/200 - LR: 0.000625 - Train Loss: 0.7555, Train Acc: 0.750 | Val Loss: 1.0144, Val Acc: 0.545

  Early stopping at epoch 34 (patience=30)
Learning curves saved to: models/trained/AUDCHF_NN_learning_curves.png
Overfitting metrics saved to: models/trained/AUDCHF_NN_overfitting_metrics.json

============================================================
OVERFITTING MONITOR SUMMARY
============================================================
Status: ‚ö† WARNING
Train-Val Gap: 23.86% (Threshold: 15%)
Total Epochs: 34
Training Duration: 0:00:01.795101

Final Metrics:
  Train Accuracy: 0.7841
  Val Accuracy:   0.5455
  Train Loss:     0.7683
  Val Loss:       1.0190

Best Epoch (Highest Val Accuracy):
  Epoch:          13
  Train Accuracy: 0.7386
  Val Accuracy:   0.6182
  Train Loss:     0.8169
  Val Loss:       0.9446
============================================================


  Final Train Accuracy: 0.784
  Final Val Accuracy:   0.545
  Train-Val Gap:        0.239 (23.9%)

üìä Evaluating on Validation set...

  Accuracy: 0.545
  Precision (macro): 0.537
  Recall (macro): 0.538
  F1-Score (macro): 0.536

  Win Rate (excl. timeouts):
    Predicted: 54.5%
    Actual:    60.0%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          11        11
  True Win           14        19

üìä Evaluating on Test set...

  Accuracy: 0.556
  Precision (macro): 0.554
  Recall (macro): 0.554
  F1-Score (macro): 0.554

  Win Rate (excl. timeouts):
    Predicted: 46.7%
    Actual:    46.7%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          14        10
  True Win           10        11

üíæ Model saved to /kaggle/working

================================================================================
Training LSTM for AUDCHF
================================================================================

üìÇ Loading data for AUDCHF...
  Excluding timeout samples (TBM_Label == 0)
  Train: 254 samples
  Val:   55 samples
  Test:  45 samples
  Selected 57 features
  Remapped labels: [0 1]

üîÑ Training LSTM for AUDCHF...
  Device: cuda
  Lookback window: 20 candles
  Training samples: 254
  Features: 57
  Creating sequences...
  Sequence shape: (234, 20, 57)
  Epoch 10/200 - LR: 0.001044 - Train Loss: 0.6492, Train Acc: 0.628 | Val Loss: 0.7588, Val Acc: 0.543
  Epoch 20/200 - LR: 0.002805 - Train Loss: 0.5059, Train Acc: 0.765 | Val Loss: 1.3574, Val Acc: 0.657
  Epoch 30/200 - LR: 0.005208 - Train Loss: 0.2706, Train Acc: 0.949 | Val Loss: 4.0696, Val Acc: 0.486

  Early stopping at epoch 36

  Final Train Accuracy: 0.974
  Final Val Accuracy:   0.543

üìä Evaluating on Validation set...

  Accuracy: 0.527
  Precision (macro): 0.554
  Recall (macro): 0.553
  F1-Score (macro): 0.527

  Win Rate (excl. timeouts):
    Predicted: 38.2%
    Actual:    60.0%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          15         7
  True Win           19        14

üìä Evaluating on Test set...

  Accuracy: 0.444
  Precision (macro): 0.435
  Recall (macro): 0.438
  F1-Score (macro): 0.434

  Win Rate (excl. timeouts):
    Predicted: 40.0%
    Actual:    46.7%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          13        11
  True Win           14         7

üíæ Model saved to /kaggle/working

################################################################################
# TRAINING: AUDJPY
################################################################################

################################################################################
# Training All Models for AUDJPY
################################################################################

================================================================================
Training Random Forest for AUDJPY
================================================================================

üìÇ Loading data for AUDJPY...
  Excluding timeout samples (TBM_Label == 0)
  Train: 220 samples
  Val:   45 samples
  Test:  51 samples
  Selected 57 features
  Remapped labels: [0 1]

üå≤ Training Random Forest for AUDJPY...
  Training samples: 220
  Features: 57

  üìä Dataset has 220 samples (< 300), applying augmentation...
  Augmented: 220 ‚Üí 246 samples

  üîÑ Performing cross-validation...

üîÑ Performing 5-fold cross-validation...

üå≤ Training Random Forest for AUDJPY...
  Training samples: 196
  Features: 57

  üìä Dataset has 196 samples (< 300), applying augmentation...
  Augmented: 196 ‚Üí 196 samples

  Train accuracy: 0.827
  Val accuracy:   0.700
  Train-Val gap:  0.127
  ‚úÖ Good generalization (gap ‚â§ 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1062
    TBM_Risk_Per_Trade_ATR                  : 0.0720
    TBM_Reward_Per_Trade_ATR                : 0.0547
    Distance_to_Entry_ATR                   : 0.0494
    OB_Displacement_Fuzzy_Score             : 0.0395
    Displacement_Mag_ZScore                 : 0.0361
    FVG_Size_Fuzzy_Score                    : 0.0332
    TBM_Bars_to_Hit                         : 0.0310
    OB_Displacement_ATR_ZScore              : 0.0295
    FVG_Quality_Fuzzy                       : 0.0250
  Fold 1/5: Accuracy=0.700, F1=0.699

üå≤ Training Random Forest for AUDJPY...
  Training samples: 197
  Features: 57

  üìä Dataset has 197 samples (< 300), applying augmentation...
  Augmented: 197 ‚Üí 198 samples

  Train accuracy: 0.838
  Val accuracy:   0.796
  Train-Val gap:  0.042
  ‚úÖ Good generalization (gap ‚â§ 15%)

  Top 10 Most Important Features:
    TBM_Risk_Per_Trade_ATR                  : 0.1004
    TBM_Reward_Per_Trade_ATR                : 0.0759
    Distance_to_Entry_ATR                   : 0.0661
    OB_Age                                  : 0.0512
    FVG_Depth_ATR_ZScore                    : 0.0308
    FVG_Distance_to_Price_ATR_ZScore        : 0.0292
    FVG_Size_Fuzzy_Score                    : 0.0273
    TBM_Bars_to_Hit                         : 0.0270
    OB_Bearish_Valid                        : 0.0270
    Bullish_Trend_Fuzzy                     : 0.0258
  Fold 2/5: Accuracy=0.796, F1=0.794

üå≤ Training Random Forest for AUDJPY...
  Training samples: 197
  Features: 57

  üìä Dataset has 197 samples (< 300), applying augmentation...
  Augmented: 197 ‚Üí 198 samples

  Train accuracy: 0.864
  Val accuracy:   0.673
  Train-Val gap:  0.190
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1080
    Distance_to_Entry_ATR                   : 0.0696
    TBM_Reward_Per_Trade_ATR                : 0.0689
    TBM_Risk_Per_Trade_ATR                  : 0.0620
    TBM_Bars_to_Hit                         : 0.0412
    OB_Size_ATR                             : 0.0387
    Trend_Strength_Fuzzy                    : 0.0337
    FVG_Quality_Fuzzy                       : 0.0319
    OB_Displacement_ATR_ZScore              : 0.0310
    Displacement_Mag_ZScore                 : 0.0291
  Fold 3/5: Accuracy=0.673, F1=0.672

üå≤ Training Random Forest for AUDJPY...
  Training samples: 197
  Features: 57

  üìä Dataset has 197 samples (< 300), applying augmentation...
  Augmented: 197 ‚Üí 198 samples

  Train accuracy: 0.864
  Val accuracy:   0.633
  Train-Val gap:  0.231
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.0999
    TBM_Reward_Per_Trade_ATR                : 0.0812
    TBM_Risk_Per_Trade_ATR                  : 0.0699
    Distance_to_Entry_ATR                   : 0.0645
    TBM_Bars_to_Hit                         : 0.0337
    OB_Bearish                              : 0.0314
    OB_Mitigated                            : 0.0296
    Displacement_Mag_ZScore                 : 0.0296
    OB_Bearish_Valid                        : 0.0266
    OB_Displacement_Fuzzy_Score             : 0.0255
  Fold 4/5: Accuracy=0.633, F1=0.631

üå≤ Training Random Forest for AUDJPY...
  Training samples: 197
  Features: 57

  üìä Dataset has 197 samples (< 300), applying augmentation...
  Augmented: 197 ‚Üí 198 samples

  Train accuracy: 0.854
  Val accuracy:   0.735
  Train-Val gap:  0.119
  ‚úÖ Good generalization (gap ‚â§ 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.0855
    TBM_Reward_Per_Trade_ATR                : 0.0820
    TBM_Risk_Per_Trade_ATR                  : 0.0707
    Distance_to_Entry_ATR                   : 0.0698
    Displacement_Mag_ZScore                 : 0.0399
    OB_Displacement_ATR_ZScore              : 0.0315
    OB_Size_ATR                             : 0.0271
    OB_Bearish_Valid                        : 0.0260
    OB_Displacement_Fuzzy_Score             : 0.0255
    OB_Displacement_ATR                     : 0.0249
  Fold 5/5: Accuracy=0.735, F1=0.734

  Cross-Validation Results:
    Mean Accuracy: 0.707 ¬± 0.055
    Mean F1-Score: 0.706 ¬± 0.055
    ‚úÖ Model is stable across folds

  Train accuracy: 0.931
  Val accuracy:   0.667
  Train-Val gap:  0.264
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.0881
    TBM_Reward_Per_Trade_ATR                : 0.0667
    TBM_Risk_Per_Trade_ATR                  : 0.0600
    Distance_to_Entry_ATR                   : 0.0537
    TBM_Bars_to_Hit                         : 0.0314
    Displacement_Mag_ZScore                 : 0.0254
    OB_Size_ATR                             : 0.0253
    FVG_Distance_to_Price_ATR_ZScore        : 0.0239
    OB_Displacement_ATR_ZScore              : 0.0237
    OB_Displacement_ATR                     : 0.0228

üìä Evaluating on Validation set...

  Accuracy: 0.667
  Precision (macro): 0.662
  Recall (macro): 0.660
  F1-Score (macro): 0.661

  Win Rate (excl. timeouts):
    Predicted: 57.8%
    Actual:    55.6%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          12         8
  True Win            7        18

  Overfitting Analysis:
    Training Accuracy: 0.931
    Validation Accuracy: 0.667
    Train-Val Gap: 0.264
    ‚ö†Ô∏è OVERFITTING DETECTED (gap > 15%)

üìä Evaluating on Test set...

  Accuracy: 0.667
  Precision (macro): 0.663
  Recall (macro): 0.661
  F1-Score (macro): 0.662

  Win Rate (excl. timeouts):
    Predicted: 56.9%
    Actual:    54.9%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          14         9
  True Win            8        20

‚ùå Random Forest training failed: Object of type bool_ is not JSON serializable

================================================================================
Training XGBoost for AUDJPY
================================================================================

üìÇ Loading data for AUDJPY...
  Excluding timeout samples (TBM_Label == 0)
  Train: 220 samples
  Val:   45 samples
  Test:  51 samples
  Selected 57 features
  Remapped labels: [0 1]

üöÄ Training XGBoost for AUDJPY...
  Training samples: 220
  Features: 57

  Train accuracy: 1.000
  Val accuracy:   0.733
  Best iteration: 200

  Top 10 Most Important Features:
    OB_Bearish                              : 0.1384
    OB_Age                                  : 0.1167
    TBM_Reward_Per_Trade_ATR                : 0.0380
    OB_Bearish_Valid                        : 0.0373
    TBM_Risk_Per_Trade_ATR                  : 0.0372
    FVG_Distance_to_Price_ATR               : 0.0355
    FVG_Depth_ATR_ZScore                    : 0.0332
    FVG_Quality_Fuzzy                       : 0.0311
    Trend_Strength_Fuzzy                    : 0.0267
    OB_Bullish_Valid                        : 0.0261

üìä Evaluating on Validation set...

  Accuracy: 0.733
  Precision (macro): 0.731
  Recall (macro): 0.725
  F1-Score (macro): 0.727

  Win Rate (excl. timeouts):
    Predicted: 60.0%
    Actual:    55.6%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          13         7
  True Win            5        20

  Overfitting Analysis:
    Training Accuracy: 1.000
    Validation Accuracy: 0.733
    Train-Val Gap: 0.267
    ‚ö†Ô∏è OVERFITTING DETECTED (gap > 15%)

üìä Evaluating on Test set...

  Accuracy: 0.686
  Precision (macro): 0.690
  Recall (macro): 0.691
  F1-Score (macro): 0.686

  Win Rate (excl. timeouts):
    Predicted: 47.1%
    Actual:    54.9%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          17         6
  True Win           10        18

üíæ Model saved to /kaggle/working

================================================================================
Training Neural Network for AUDJPY
================================================================================

üìÇ Loading data for AUDJPY...
  Excluding timeout samples (TBM_Label == 0)
  Train: 220 samples
  Val:   45 samples
  Test:  51 samples
  Selected 57 features
  Remapped labels: [0 1]

üß† Training Neural Network for AUDJPY...
  Device: cuda
  Training samples: 220
  Features: 57
  Architecture: 57 -> 512 -> 256 -> 128 -> 64 -> 3

  Dataset has < 300 samples. Applying data augmentation...
  Augmented training samples: 246
  Epoch 10/200 - LR: 0.010000 - Train Loss: 0.7988, Train Acc: 0.720 | Val Loss: 0.8314, Val Acc: 0.644
  Epoch 20/200 - LR: 0.010000 - Train Loss: 0.7370, Train Acc: 0.793 | Val Loss: 0.8140, Val Acc: 0.711
  Epoch 30/200 - LR: 0.002500 - Train Loss: 0.7040, Train Acc: 0.821 | Val Loss: 0.8262, Val Acc: 0.689
  Epoch 40/200 - LR: 0.001250 - Train Loss: 0.6712, Train Acc: 0.862 | Val Loss: 0.8393, Val Acc: 0.711

  Early stopping at epoch 48 (patience=30)
Learning curves saved to: models/trained/AUDJPY_NN_learning_curves.png
Overfitting metrics saved to: models/trained/AUDJPY_NN_overfitting_metrics.json

============================================================
OVERFITTING MONITOR SUMMARY
============================================================
Status: ‚ö† WARNING
Train-Val Gap: 18.32% (Threshold: 15%)
Total Epochs: 48
Training Duration: 0:00:02.056500

Final Metrics:
  Train Accuracy: 0.8943
  Val Accuracy:   0.7111
  Train Loss:     0.6541
  Val Loss:       0.8271

Best Epoch (Highest Val Accuracy):
  Epoch:          17
  Train Accuracy: 0.7561
  Val Accuracy:   0.7333
  Train Loss:     0.7738
  Val Loss:       0.7909
============================================================


  Final Train Accuracy: 0.894
  Final Val Accuracy:   0.711
  Train-Val Gap:        0.183 (18.3%)

üìä Evaluating on Validation set...

  Accuracy: 0.711
  Precision (macro): 0.712
  Recall (macro): 0.715
  F1-Score (macro): 0.711

  Win Rate (excl. timeouts):
    Predicted: 48.9%
    Actual:    55.6%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          15         5
  True Win            8        17

üìä Evaluating on Test set...

  Accuracy: 0.608
  Precision (macro): 0.607
  Recall (macro): 0.608
  F1-Score (macro): 0.606

  Win Rate (excl. timeouts):
    Predicted: 51.0%
    Actual:    54.9%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          14         9
  True Win           11        17

üíæ Model saved to /kaggle/working

================================================================================
Training LSTM for AUDJPY
================================================================================

üìÇ Loading data for AUDJPY...
  Excluding timeout samples (TBM_Label == 0)
  Train: 220 samples
  Val:   45 samples
  Test:  51 samples
  Selected 57 features
  Remapped labels: [0 1]

üîÑ Training LSTM for AUDJPY...
  Device: cuda
  Lookback window: 20 candles
  Training samples: 220
  Features: 57
  Creating sequences...
  Sequence shape: (200, 20, 57)
  Epoch 10/200 - LR: 0.001045 - Train Loss: 0.5793, Train Acc: 0.725 | Val Loss: 0.8700, Val Acc: 0.440
  Epoch 20/200 - LR: 0.002806 - Train Loss: 0.4747, Train Acc: 0.825 | Val Loss: 1.5719, Val Acc: 0.440
  Epoch 30/200 - LR: 0.005210 - Train Loss: 0.3486, Train Acc: 0.875 | Val Loss: 0.9722, Val Acc: 0.560

  Early stopping at epoch 33

  Final Train Accuracy: 0.875
  Final Val Accuracy:   0.520

üìä Evaluating on Validation set...

  Accuracy: 0.556
  Precision (macro): 0.596
  Recall (macro): 0.580
  F1-Score (macro): 0.545

  Win Rate (excl. timeouts):
    Predicted: 28.9%
    Actual:    55.6%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          16         4
  True Win           16         9

üìä Evaluating on Test set...

  Accuracy: 0.569
  Precision (macro): 0.601
  Recall (macro): 0.588
  F1-Score (macro): 0.560

  Win Rate (excl. timeouts):
    Predicted: 31.4%
    Actual:    54.9%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          18         5
  True Win           17        11

üíæ Model saved to /kaggle/working

################################################################################
# TRAINING: AUDNZD
################################################################################

################################################################################
# Training All Models for AUDNZD
################################################################################

================================================================================
Training Random Forest for AUDNZD
================================================================================

üìÇ Loading data for AUDNZD...
  Excluding timeout samples (TBM_Label == 0)
  Train: 162 samples
  Val:   31 samples
  Test:  41 samples
  Selected 57 features
  Remapped labels: [0 1]

üå≤ Training Random Forest for AUDNZD...
  Training samples: 162
  Features: 57

  üìä Dataset has 162 samples (< 300), applying augmentation...
  Augmented: 162 ‚Üí 170 samples

  üîÑ Performing cross-validation...

üîÑ Performing 5-fold cross-validation...

üå≤ Training Random Forest for AUDNZD...
  Training samples: 136
  Features: 57

  üìä Dataset has 136 samples (< 300), applying augmentation...
  Augmented: 136 ‚Üí 136 samples

  Train accuracy: 0.882
  Val accuracy:   0.794
  Train-Val gap:  0.088
  ‚úÖ Good generalization (gap ‚â§ 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.0822
    TBM_Reward_Per_Trade_ATR                : 0.0684
    TBM_Risk_Per_Trade_ATR                  : 0.0654
    Distance_to_Entry_ATR                   : 0.0654
    FVG_Depth_ATR_ZScore                    : 0.0433
    TBM_Bars_to_Hit                         : 0.0369
    OB_Bullish                              : 0.0332
    FVG_Distance_to_Price_ATR_ZScore        : 0.0264
    FVG_Distance_to_Price_ATR               : 0.0249
    BOS_Dist_ATR                            : 0.0248
  Fold 1/5: Accuracy=0.794, F1=0.793

üå≤ Training Random Forest for AUDNZD...
  Training samples: 136
  Features: 57

  üìä Dataset has 136 samples (< 300), applying augmentation...
  Augmented: 136 ‚Üí 136 samples

  Train accuracy: 0.816
  Val accuracy:   0.765
  Train-Val gap:  0.051
  ‚úÖ Good generalization (gap ‚â§ 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.0753
    TBM_Reward_Per_Trade_ATR                : 0.0666
    TBM_Risk_Per_Trade_ATR                  : 0.0642
    Distance_to_Entry_ATR                   : 0.0573
    ChoCH_Detected                          : 0.0475
    TBM_Bars_to_Hit                         : 0.0390
    Oversold_Fuzzy                          : 0.0364
    FVG_Mitigated                           : 0.0283
    Trend_Bias_Indicator                    : 0.0254
    FVG_Quality_Fuzzy                       : 0.0253
  Fold 2/5: Accuracy=0.765, F1=0.757

üå≤ Training Random Forest for AUDNZD...
  Training samples: 136
  Features: 57

  üìä Dataset has 136 samples (< 300), applying augmentation...
  Augmented: 136 ‚Üí 136 samples

  Train accuracy: 0.831
  Val accuracy:   0.676
  Train-Val gap:  0.154
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    TBM_Risk_Per_Trade_ATR                  : 0.0854
    OB_Age                                  : 0.0771
    TBM_Reward_Per_Trade_ATR                : 0.0747
    Distance_to_Entry_ATR                   : 0.0635
    FVG_Quality_Fuzzy                       : 0.0428
    ChoCH_Detected                          : 0.0382
    FVG_Depth_ATR_ZScore                    : 0.0378
    FVG_Size_Fuzzy_Score                    : 0.0298
    TBM_Bars_to_Hit                         : 0.0267
    BOS_Dist_ATR_ZScore                     : 0.0259
  Fold 3/5: Accuracy=0.676, F1=0.676

üå≤ Training Random Forest for AUDNZD...
  Training samples: 136
  Features: 57

  üìä Dataset has 136 samples (< 300), applying augmentation...
  Augmented: 136 ‚Üí 136 samples

  Train accuracy: 0.853
  Val accuracy:   0.588
  Train-Val gap:  0.265
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    TBM_Risk_Per_Trade_ATR                  : 0.1030
    TBM_Reward_Per_Trade_ATR                : 0.0959
    OB_Age                                  : 0.0778
    Distance_to_Entry_ATR                   : 0.0685
    TBM_Bars_to_Hit                         : 0.0398
    FVG_Quality_Fuzzy                       : 0.0349
    ChoCH_Detected                          : 0.0322
    FVG_Depth_ATR_ZScore                    : 0.0312
    FVG_Size_Fuzzy_Score                    : 0.0285
    FVG_Mitigated                           : 0.0262
  Fold 4/5: Accuracy=0.588, F1=0.588

üå≤ Training Random Forest for AUDNZD...
  Training samples: 136
  Features: 57

  üìä Dataset has 136 samples (< 300), applying augmentation...
  Augmented: 136 ‚Üí 136 samples

  Train accuracy: 0.831
  Val accuracy:   0.618
  Train-Val gap:  0.213
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    TBM_Risk_Per_Trade_ATR                  : 0.0989
    TBM_Reward_Per_Trade_ATR                : 0.0926
    OB_Age                                  : 0.0753
    Distance_to_Entry_ATR                   : 0.0620
    FVG_Depth_ATR_ZScore                    : 0.0332
    ChoCH_Detected                          : 0.0329
    BOS_Wick_Confirm                        : 0.0294
    OB_Bullish                              : 0.0275
    OB_Displacement_ATR_ZScore              : 0.0267
    FVG_Size_Fuzzy_Score                    : 0.0227
  Fold 5/5: Accuracy=0.618, F1=0.617

  Cross-Validation Results:
    Mean Accuracy: 0.688 ¬± 0.080
    Mean F1-Score: 0.686 ¬± 0.078
    ‚úÖ Model is stable across folds

  Train accuracy: 0.918
  Val accuracy:   0.645
  Train-Val gap:  0.272
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.0800
    TBM_Reward_Per_Trade_ATR                : 0.0789
    TBM_Risk_Per_Trade_ATR                  : 0.0788
    Distance_to_Entry_ATR                   : 0.0687
    TBM_Bars_to_Hit                         : 0.0278
    FVG_Quality_Fuzzy                       : 0.0254
    BOS_Dist_ATR_ZScore                     : 0.0252
    FVG_Depth_ATR_ZScore                    : 0.0247
    Trend_Bias_Indicator                    : 0.0240
    FVG_Distance_to_Price_ATR_ZScore        : 0.0231

üìä Evaluating on Validation set...

  Accuracy: 0.645
  Precision (macro): 0.644
  Recall (macro): 0.645
  F1-Score (macro): 0.644

  Win Rate (excl. timeouts):
    Predicted: 51.6%
    Actual:    54.8%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss           9         5
  True Win            6        11

  Overfitting Analysis:
    Training Accuracy: 0.918
    Validation Accuracy: 0.645
    Train-Val Gap: 0.272
    ‚ö†Ô∏è OVERFITTING DETECTED (gap > 15%)

üìä Evaluating on Test set...

  Accuracy: 0.756
  Precision (macro): 0.752
  Recall (macro): 0.752
  F1-Score (macro): 0.752

  Win Rate (excl. timeouts):
    Predicted: 56.1%
    Actual:    56.1%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          13         5
  True Win            5        18

‚ùå Random Forest training failed: Object of type bool_ is not JSON serializable

================================================================================
Training XGBoost for AUDNZD
================================================================================

üìÇ Loading data for AUDNZD...
  Excluding timeout samples (TBM_Label == 0)
  Train: 162 samples
  Val:   31 samples
  Test:  41 samples
  Selected 57 features
  Remapped labels: [0 1]

üöÄ Training XGBoost for AUDNZD...
  Training samples: 162
  Features: 57

  Train accuracy: 1.000
  Val accuracy:   0.645
  Best iteration: 200

  Top 10 Most Important Features:
    OB_Age                                  : 0.0893
    Displacement_Mag_ZScore                 : 0.0870
    TBM_Reward_Per_Trade_ATR                : 0.0535
    FVG_Quality_Fuzzy                       : 0.0471
    FVG_Distance_to_Price_ATR               : 0.0459
    TBM_Risk_Per_Trade_ATR                  : 0.0435
    FVG_Distance_to_Price_ATR_ZScore        : 0.0358
    BOS_Dist_ATR                            : 0.0346
    OB_Bullish                              : 0.0330
    FVG_Depth_ATR_ZScore                    : 0.0330

üìä Evaluating on Validation set...

  Accuracy: 0.645
  Precision (macro): 0.651
  Recall (macro): 0.651
  F1-Score (macro): 0.645

  Win Rate (excl. timeouts):
    Predicted: 45.2%
    Actual:    54.8%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          10         4
  True Win            7        10

  Overfitting Analysis:
    Training Accuracy: 1.000
    Validation Accuracy: 0.645
    Train-Val Gap: 0.355
    ‚ö†Ô∏è OVERFITTING DETECTED (gap > 15%)

üìä Evaluating on Test set...

  Accuracy: 0.780
  Precision (macro): 0.782
  Recall (macro): 0.786
  F1-Score (macro): 0.780

  Win Rate (excl. timeouts):
    Predicted: 48.8%
    Actual:    56.1%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          15         3
  True Win            6        17

üíæ Model saved to /kaggle/working

================================================================================
Training Neural Network for AUDNZD
================================================================================

üìÇ Loading data for AUDNZD...
  Excluding timeout samples (TBM_Label == 0)
  Train: 162 samples
  Val:   31 samples
  Test:  41 samples
  Selected 57 features
  Remapped labels: [0 1]

üß† Training Neural Network for AUDNZD...
  Device: cuda
  Training samples: 162
  Features: 57
  Architecture: 57 -> 512 -> 256 -> 128 -> 64 -> 3

  Dataset has < 300 samples. Applying data augmentation...
  Augmented training samples: 170
  Epoch 10/200 - LR: 0.010000 - Train Loss: 0.8057, Train Acc: 0.718 | Val Loss: 0.9329, Val Acc: 0.677
  Epoch 20/200 - LR: 0.002500 - Train Loss: 0.7611, Train Acc: 0.788 | Val Loss: 0.8916, Val Acc: 0.710
  Epoch 30/200 - LR: 0.002500 - Train Loss: 0.7434, Train Acc: 0.782 | Val Loss: 0.8607, Val Acc: 0.710
  Epoch 40/200 - LR: 0.001250 - Train Loss: 0.6479, Train Acc: 0.888 | Val Loss: 0.8612, Val Acc: 0.677
  Epoch 50/200 - LR: 0.000313 - Train Loss: 0.6501, Train Acc: 0.888 | Val Loss: 0.8731, Val Acc: 0.645
  Epoch 60/200 - LR: 0.000156 - Train Loss: 0.6176, Train Acc: 0.900 | Val Loss: 0.8573, Val Acc: 0.742

  Early stopping at epoch 61 (patience=30)
Learning curves saved to: models/trained/AUDNZD_NN_learning_curves.png
Overfitting metrics saved to: models/trained/AUDNZD_NN_overfitting_metrics.json

============================================================
OVERFITTING MONITOR SUMMARY
============================================================
Status: ‚ö† WARNING
Train-Val Gap: 24.90% (Threshold: 15%)
Total Epochs: 61
Training Duration: 0:00:01.994012

Final Metrics:
  Train Accuracy: 0.8941
  Val Accuracy:   0.6452
  Train Loss:     0.6366
  Val Loss:       0.8589

Best Epoch (Highest Val Accuracy):
  Epoch:          31
  Train Accuracy: 0.8353
  Val Accuracy:   0.7742
  Train Loss:     0.7074
  Val Loss:       0.8552
============================================================


  Final Train Accuracy: 0.894
  Final Val Accuracy:   0.645
  Train-Val Gap:        0.249 (24.9%)

üìä Evaluating on Validation set...

  Accuracy: 0.645
  Precision (macro): 0.641
  Recall (macro): 0.639
  F1-Score (macro): 0.639

  Win Rate (excl. timeouts):
    Predicted: 58.1%
    Actual:    54.8%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss           8         6
  True Win            5        12

üìä Evaluating on Test set...

  Accuracy: 0.659
  Precision (macro): 0.653
  Recall (macro): 0.653
  F1-Score (macro): 0.653

  Win Rate (excl. timeouts):
    Predicted: 56.1%
    Actual:    56.1%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          11         7
  True Win            7        16

üíæ Model saved to /kaggle/working

================================================================================
Training LSTM for AUDNZD
================================================================================

üìÇ Loading data for AUDNZD...
  Excluding timeout samples (TBM_Label == 0)
  Train: 162 samples
  Val:   31 samples
  Test:  41 samples
  Selected 57 features
  Remapped labels: [0 1]

üîÑ Training LSTM for AUDNZD...
  Device: cuda
  Lookback window: 20 candles
  Training samples: 162
  Features: 57
  Creating sequences...
  Sequence shape: (142, 20, 57)
  Epoch 10/200 - LR: 0.001045 - Train Loss: 0.6568, Train Acc: 0.620 | Val Loss: 0.7159, Val Acc: 0.545
  Epoch 20/200 - LR: 0.002808 - Train Loss: 0.5286, Train Acc: 0.768 | Val Loss: 0.8589, Val Acc: 0.364
  Epoch 30/200 - LR: 0.005214 - Train Loss: 0.2957, Train Acc: 0.866 | Val Loss: 0.4471, Val Acc: 0.727
  Epoch 40/200 - LR: 0.007616 - Train Loss: 0.4568, Train Acc: 0.923 | Val Loss: 4.5829, Val Acc: 0.273
  Epoch 50/200 - LR: 0.009369 - Train Loss: 0.3282, Train Acc: 0.958 | Val Loss: 4.1288, Val Acc: 0.545
  Epoch 60/200 - LR: 0.010000 - Train Loss: 0.0696, Train Acc: 0.993 | Val Loss: 16.1159, Val Acc: 0.455

  Early stopping at epoch 60

  Final Train Accuracy: 0.993
  Final Val Accuracy:   0.455

üìä Evaluating on Validation set...

  Accuracy: 0.484
  Precision (macro): 0.505
  Recall (macro): 0.504
  F1-Score (macro): 0.470

  Win Rate (excl. timeouts):
    Predicted: 29.0%
    Actual:    54.8%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          10         4
  True Win           12         5

üìä Evaluating on Test set...

  Accuracy: 0.415
  Precision (macro): 0.427
  Recall (macro): 0.436
  F1-Score (macro): 0.406

  Win Rate (excl. timeouts):
    Predicted: 31.7%
    Actual:    56.1%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          11         7
  True Win           17         6

üíæ Model saved to /kaggle/working

################################################################################
# TRAINING: AUDUSD
################################################################################

################################################################################
# Training All Models for AUDUSD
################################################################################

================================================================================
Training Random Forest for AUDUSD
================================================================================

üìÇ Loading data for AUDUSD...
  Excluding timeout samples (TBM_Label == 0)
  Train: 239 samples
  Val:   53 samples
  Test:  54 samples
  Selected 57 features
  Remapped labels: [0 1]

üå≤ Training Random Forest for AUDUSD...
  Training samples: 239
  Features: 57

  üìä Dataset has 239 samples (< 300), applying augmentation...
  Augmented: 239 ‚Üí 258 samples

  üîÑ Performing cross-validation...

üîÑ Performing 5-fold cross-validation...

üå≤ Training Random Forest for AUDUSD...
  Training samples: 206
  Features: 57

  üìä Dataset has 206 samples (< 300), applying augmentation...
  Augmented: 206 ‚Üí 206 samples

  Train accuracy: 0.782
  Val accuracy:   0.673
  Train-Val gap:  0.108
  ‚úÖ Good generalization (gap ‚â§ 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.0968
    TBM_Bars_to_Hit                         : 0.0736
    FVG_Distance_to_Price_ATR_ZScore        : 0.0630
    FVG_Quality_Fuzzy                       : 0.0489
    FVG_Depth_ATR                           : 0.0459
    FVG_Distance_to_Price_ATR               : 0.0437
    FVG_Size_Fuzzy_Score                    : 0.0430
    FVG_Mitigated                           : 0.0382
    FVG_Depth_ATR_ZScore                    : 0.0353
    ChoCH_Detected                          : 0.0274
  Fold 1/5: Accuracy=0.673, F1=0.673

üå≤ Training Random Forest for AUDUSD...
  Training samples: 206
  Features: 57

  üìä Dataset has 206 samples (< 300), applying augmentation...
  Augmented: 206 ‚Üí 206 samples

  Train accuracy: 0.845
  Val accuracy:   0.731
  Train-Val gap:  0.114
  ‚úÖ Good generalization (gap ‚â§ 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1177
    FVG_Distance_to_Price_ATR_ZScore        : 0.0691
    FVG_Distance_to_Price_ATR               : 0.0539
    FVG_Size_Fuzzy_Score                    : 0.0479
    TBM_Bars_to_Hit                         : 0.0446
    FVG_Depth_ATR_ZScore                    : 0.0363
    OB_Bearish_Valid                        : 0.0319
    TBM_Risk_Per_Trade_ATR                  : 0.0306
    FVG_Depth_ATR                           : 0.0268
    TBM_Reward_Per_Trade_ATR                : 0.0255
  Fold 2/5: Accuracy=0.731, F1=0.727

üå≤ Training Random Forest for AUDUSD...
  Training samples: 206
  Features: 57

  üìä Dataset has 206 samples (< 300), applying augmentation...
  Augmented: 206 ‚Üí 206 samples

  Train accuracy: 0.806
  Val accuracy:   0.673
  Train-Val gap:  0.133
  ‚úÖ Good generalization (gap ‚â§ 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1054
    FVG_Size_Fuzzy_Score                    : 0.0505
    FVG_Distance_to_Price_ATR               : 0.0495
    FVG_Depth_ATR_ZScore                    : 0.0491
    FVG_Quality_Fuzzy                       : 0.0470
    FVG_Distance_to_Price_ATR_ZScore        : 0.0466
    TBM_Bars_to_Hit                         : 0.0378
    FVG_Depth_ATR                           : 0.0315
    TBM_Reward_Per_Trade_ATR                : 0.0297
    FVG_Mitigated                           : 0.0268
  Fold 3/5: Accuracy=0.673, F1=0.670

üå≤ Training Random Forest for AUDUSD...
  Training samples: 207
  Features: 57

  üìä Dataset has 207 samples (< 300), applying augmentation...
  Augmented: 207 ‚Üí 208 samples

  Train accuracy: 0.803
  Val accuracy:   0.725
  Train-Val gap:  0.077
  ‚úÖ Good generalization (gap ‚â§ 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1274
    FVG_Distance_to_Price_ATR_ZScore        : 0.0488
    FVG_Quality_Fuzzy                       : 0.0474
    TBM_Bars_to_Hit                         : 0.0453
    FVG_Distance_to_Price_ATR               : 0.0432
    TBM_Risk_Per_Trade_ATR                  : 0.0429
    TBM_Reward_Per_Trade_ATR                : 0.0378
    FVG_Size_Fuzzy_Score                    : 0.0353
    FVG_Mitigated                           : 0.0349
    FVG_Depth_ATR_ZScore                    : 0.0345
  Fold 4/5: Accuracy=0.725, F1=0.720

üå≤ Training Random Forest for AUDUSD...
  Training samples: 207
  Features: 57

  üìä Dataset has 207 samples (< 300), applying augmentation...
  Augmented: 207 ‚Üí 208 samples

  Train accuracy: 0.832
  Val accuracy:   0.627
  Train-Val gap:  0.204
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.0959
    FVG_Distance_to_Price_ATR_ZScore        : 0.0544
    FVG_Quality_Fuzzy                       : 0.0469
    FVG_Distance_to_Price_ATR               : 0.0446
    FVG_Depth_ATR_ZScore                    : 0.0414
    OB_Bearish_Valid                        : 0.0413
    FVG_Mitigated                           : 0.0390
    TBM_Reward_Per_Trade_ATR                : 0.0389
    FVG_Size_Fuzzy_Score                    : 0.0371
    TBM_Bars_to_Hit                         : 0.0347
  Fold 5/5: Accuracy=0.627, F1=0.625

  Cross-Validation Results:
    Mean Accuracy: 0.686 ¬± 0.038
    Mean F1-Score: 0.683 ¬± 0.037
    ‚úÖ Model is stable across folds

  Train accuracy: 0.938
  Val accuracy:   0.604
  Train-Val gap:  0.334
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.0998
    FVG_Distance_to_Price_ATR_ZScore        : 0.0524
    TBM_Bars_to_Hit                         : 0.0462
    FVG_Size_Fuzzy_Score                    : 0.0431
    FVG_Distance_to_Price_ATR               : 0.0330
    FVG_Depth_ATR_ZScore                    : 0.0321
    FVG_Quality_Fuzzy                       : 0.0316
    TBM_Risk_Per_Trade_ATR                  : 0.0297
    OB_Size_ATR_ZScore                      : 0.0297
    FVG_Depth_ATR                           : 0.0296

üìä Evaluating on Validation set...

  Accuracy: 0.604
  Precision (macro): 0.609
  Recall (macro): 0.605
  F1-Score (macro): 0.602

  Win Rate (excl. timeouts):
    Predicted: 58.5%
    Actual:    49.1%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          14        13
  True Win            8        18

  Overfitting Analysis:
    Training Accuracy: 0.938
    Validation Accuracy: 0.604
    Train-Val Gap: 0.334
    ‚ö†Ô∏è OVERFITTING DETECTED (gap > 15%)

üìä Evaluating on Test set...

  Accuracy: 0.574
  Precision (macro): 0.600
  Recall (macro): 0.598
  F1-Score (macro): 0.574

  Win Rate (excl. timeouts):
    Predicted: 38.9%
    Actual:    59.3%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          16         6
  True Win           17        15

‚ùå Random Forest training failed: Object of type bool_ is not JSON serializable

================================================================================
Training XGBoost for AUDUSD
================================================================================

üìÇ Loading data for AUDUSD...
  Excluding timeout samples (TBM_Label == 0)
  Train: 239 samples
  Val:   53 samples
  Test:  54 samples
  Selected 57 features
  Remapped labels: [0 1]

üöÄ Training XGBoost for AUDUSD...
  Training samples: 239
  Features: 57

  Train accuracy: 1.000
  Val accuracy:   0.566
  Best iteration: 200

  Top 10 Most Important Features:
    OB_Age                                  : 0.1073
    OB_Bullish                              : 0.1003
    OB_Bearish_Valid                        : 0.0582
    FVG_Quality_Fuzzy                       : 0.0504
    ChoCH_Direction                         : 0.0418
    FVG_Distance_to_Price_ATR_ZScore        : 0.0366
    TBM_Reward_Per_Trade_ATR                : 0.0351
    Displacement_Mag_ZScore                 : 0.0346
    ChoCH_Detected                          : 0.0271
    FVG_Depth_ATR                           : 0.0259

üìä Evaluating on Validation set...

  Accuracy: 0.566
  Precision (macro): 0.583
  Recall (macro): 0.570
  F1-Score (macro): 0.550

  Win Rate (excl. timeouts):
    Predicted: 69.8%
    Actual:    49.1%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          10        17
  True Win            6        20

  Overfitting Analysis:
    Training Accuracy: 1.000
    Validation Accuracy: 0.566
    Train-Val Gap: 0.434
    ‚ö†Ô∏è OVERFITTING DETECTED (gap > 15%)

üìä Evaluating on Test set...

  Accuracy: 0.593
  Precision (macro): 0.589
  Recall (macro): 0.592
  F1-Score (macro): 0.587

  Win Rate (excl. timeouts):
    Predicted: 51.9%
    Actual:    59.3%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          13         9
  True Win           13        19

üíæ Model saved to /kaggle/working

================================================================================
Training Neural Network for AUDUSD
================================================================================

üìÇ Loading data for AUDUSD...
  Excluding timeout samples (TBM_Label == 0)
  Train: 239 samples
  Val:   53 samples
  Test:  54 samples
  Selected 57 features
  Remapped labels: [0 1]

üß† Training Neural Network for AUDUSD...
  Device: cuda
  Training samples: 239
  Features: 57
  Architecture: 57 -> 512 -> 256 -> 128 -> 64 -> 3

  Dataset has < 300 samples. Applying data augmentation...
  Augmented training samples: 258
  Epoch 10/200 - LR: 0.010000 - Train Loss: 0.8153, Train Acc: 0.721 | Val Loss: 1.0155, Val Acc: 0.547
  Epoch 20/200 - LR: 0.002500 - Train Loss: 0.9568, Train Acc: 0.798 | Val Loss: 1.1225, Val Acc: 0.585
  Epoch 30/200 - LR: 0.000625 - Train Loss: 0.7385, Train Acc: 0.857 | Val Loss: 1.1757, Val Acc: 0.509

  Early stopping at epoch 36 (patience=30)
Learning curves saved to: models/trained/AUDUSD_NN_learning_curves.png
Overfitting metrics saved to: models/trained/AUDUSD_NN_overfitting_metrics.json

============================================================
OVERFITTING MONITOR SUMMARY
============================================================
Status: ‚ö† WARNING
Train-Val Gap: 30.12% (Threshold: 15%)
Total Epochs: 36
Training Duration: 0:00:01.782582

Final Metrics:
  Train Accuracy: 0.8295
  Val Accuracy:   0.5283
  Train Loss:     0.7697
  Val Loss:       1.1262

Best Epoch (Highest Val Accuracy):
  Epoch:          19
  Train Accuracy: 0.7984
  Val Accuracy:   0.5849
  Train Loss:     0.9568
  Val Loss:       1.1225
============================================================


  Final Train Accuracy: 0.829
  Final Val Accuracy:   0.528
  Train-Val Gap:        0.301 (30.1%)

üìä Evaluating on Validation set...

  Accuracy: 0.528
  Precision (macro): 0.533
  Recall (macro): 0.531
  F1-Score (macro): 0.522

  Win Rate (excl. timeouts):
    Predicted: 62.3%
    Actual:    49.1%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          11        16
  True Win            9        17

üìä Evaluating on Test set...

  Accuracy: 0.500
  Precision (macro): 0.478
  Recall (macro): 0.479
  F1-Score (macro): 0.478

  Win Rate (excl. timeouts):
    Predicted: 61.1%
    Actual:    59.3%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss           8        14
  True Win           13        19

üíæ Model saved to /kaggle/working

================================================================================
Training LSTM for AUDUSD
================================================================================

üìÇ Loading data for AUDUSD...
  Excluding timeout samples (TBM_Label == 0)
  Train: 239 samples
  Val:   53 samples
  Test:  54 samples
  Selected 57 features
  Remapped labels: [0 1]

üîÑ Training LSTM for AUDUSD...
  Device: cuda
  Lookback window: 20 candles
  Training samples: 239
  Features: 57
  Creating sequences...
  Sequence shape: (219, 20, 57)
  Epoch 10/200 - LR: 0.001045 - Train Loss: 0.6314, Train Acc: 0.621 | Val Loss: 0.9866, Val Acc: 0.364
  Epoch 20/200 - LR: 0.002805 - Train Loss: 0.4973, Train Acc: 0.758 | Val Loss: 1.6795, Val Acc: 0.515
  Epoch 30/200 - LR: 0.005209 - Train Loss: 0.4084, Train Acc: 0.881 | Val Loss: 1.8472, Val Acc: 0.394

  Early stopping at epoch 34

  Final Train Accuracy: 0.954
  Final Val Accuracy:   0.273

üìä Evaluating on Validation set...

  Accuracy: 0.340
  Precision (macro): 0.323
  Recall (macro): 0.337
  F1-Score (macro): 0.324

  Win Rate (excl. timeouts):
    Predicted: 35.8%
    Actual:    49.1%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          13        14
  True Win           21         5

üìä Evaluating on Test set...

  Accuracy: 0.333
  Precision (macro): 0.345
  Recall (macro): 0.345
  F1-Score (macro): 0.333

  Win Rate (excl. timeouts):
    Predicted: 40.7%
    Actual:    59.3%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss           9        13
  True Win           23         9

üíæ Model saved to /kaggle/working

################################################################################
# TRAINING: EURUSD
################################################################################

################################################################################
# Training All Models for EURUSD
################################################################################

================================================================================
Training Random Forest for EURUSD
================================================================================

üìÇ Loading data for EURUSD...
  Excluding timeout samples (TBM_Label == 0)
  Train: 215 samples
  Val:   57 samples
  Test:  47 samples
  Selected 57 features
  Remapped labels: [0 1]

üå≤ Training Random Forest for EURUSD...
  Training samples: 215
  Features: 57

  üìä Dataset has 215 samples (< 300), applying augmentation...
  Augmented: 215 ‚Üí 226 samples

  üîÑ Performing cross-validation...

üîÑ Performing 5-fold cross-validation...

üå≤ Training Random Forest for EURUSD...
  Training samples: 180
  Features: 57

  üìä Dataset has 180 samples (< 300), applying augmentation...
  Augmented: 180 ‚Üí 180 samples

  Train accuracy: 0.911
  Val accuracy:   0.587
  Train-Val gap:  0.324
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.0887
    TBM_Risk_Per_Trade_ATR                  : 0.0521
    TBM_Reward_Per_Trade_ATR                : 0.0499
    Distance_to_Entry_ATR                   : 0.0444
    OB_Displacement_Fuzzy_Score             : 0.0364
    TBM_Bars_to_Hit                         : 0.0298
    FVG_Distance_to_Price_ATR_ZScore        : 0.0286
    OB_Size_ATR_ZScore                      : 0.0277
    FVG_Bullish                             : 0.0257
    Trend_Bias_Indicator                    : 0.0254
  Fold 1/5: Accuracy=0.587, F1=0.577

üå≤ Training Random Forest for EURUSD...
  Training samples: 181
  Features: 57

  üìä Dataset has 181 samples (< 300), applying augmentation...
  Augmented: 181 ‚Üí 182 samples

  Train accuracy: 0.912
  Val accuracy:   0.667
  Train-Val gap:  0.245
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1015
    OB_Displacement_Fuzzy_Score             : 0.0529
    FVG_Quality_Fuzzy                       : 0.0470
    BOS_Dist_ATR_ZScore                     : 0.0353
    FVG_Distance_to_Price_ATR               : 0.0349
    TBM_Reward_Per_Trade_ATR                : 0.0345
    TBM_Risk_Per_Trade_ATR                  : 0.0336
    FVG_Distance_to_Price_ATR_ZScore        : 0.0331
    BOS_Commitment_Flag                     : 0.0328
    TBM_Bars_to_Hit                         : 0.0321
  Fold 2/5: Accuracy=0.667, F1=0.664

üå≤ Training Random Forest for EURUSD...
  Training samples: 181
  Features: 57

  üìä Dataset has 181 samples (< 300), applying augmentation...
  Augmented: 181 ‚Üí 182 samples

  Train accuracy: 0.923
  Val accuracy:   0.578
  Train-Val gap:  0.345
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.0985
    OB_Displacement_Fuzzy_Score             : 0.0561
    TBM_Reward_Per_Trade_ATR                : 0.0502
    TBM_Risk_Per_Trade_ATR                  : 0.0455
    TBM_Bars_to_Hit                         : 0.0381
    Distance_to_Entry_ATR                   : 0.0373
    BOS_Close_Confirm                       : 0.0343
    FVG_Distance_to_Price_ATR               : 0.0318
    FVG_Distance_to_Price_ATR_ZScore        : 0.0307
    FVG_Quality_Fuzzy                       : 0.0285
  Fold 3/5: Accuracy=0.578, F1=0.577

üå≤ Training Random Forest for EURUSD...
  Training samples: 181
  Features: 57

  üìä Dataset has 181 samples (< 300), applying augmentation...
  Augmented: 181 ‚Üí 182 samples

  Train accuracy: 0.918
  Val accuracy:   0.644
  Train-Val gap:  0.273
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1126
    OB_Displacement_Fuzzy_Score             : 0.0443
    Trend_Strength_Fuzzy                    : 0.0368
    Trend_Strength                          : 0.0365
    TBM_Reward_Per_Trade_ATR                : 0.0349
    OB_Bullish                              : 0.0321
    TBM_Risk_Per_Trade_ATR                  : 0.0310
    FVG_Distance_to_Price_ATR_ZScore        : 0.0294
    Distance_to_Entry_ATR                   : 0.0284
    FVG_Size_Fuzzy_Score                    : 0.0283
  Fold 4/5: Accuracy=0.644, F1=0.640

üå≤ Training Random Forest for EURUSD...
  Training samples: 181
  Features: 57

  üìä Dataset has 181 samples (< 300), applying augmentation...
  Augmented: 181 ‚Üí 182 samples

  Train accuracy: 0.923
  Val accuracy:   0.667
  Train-Val gap:  0.256
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1073
    FVG_Distance_to_Price_ATR_ZScore        : 0.0399
    FVG_Distance_to_Price_ATR               : 0.0385
    TBM_Reward_Per_Trade_ATR                : 0.0375
    BOS_Dist_ATR_ZScore                     : 0.0338
    Distance_to_Entry_ATR                   : 0.0329
    BOS_Wick_Confirm                        : 0.0316
    OB_Displacement_Fuzzy_Score             : 0.0307
    OB_Bearish_Valid                        : 0.0296
    ChoCH_Direction                         : 0.0295
  Fold 5/5: Accuracy=0.667, F1=0.667

  Cross-Validation Results:
    Mean Accuracy: 0.629 ¬± 0.039
    Mean F1-Score: 0.625 ¬± 0.040
    ‚úÖ Model is stable across folds

  Train accuracy: 0.991
  Val accuracy:   0.667
  Train-Val gap:  0.324
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1049
    TBM_Reward_Per_Trade_ATR                : 0.0431
    TBM_Risk_Per_Trade_ATR                  : 0.0344
    FVG_Distance_to_Price_ATR_ZScore        : 0.0332
    Distance_to_Entry_ATR                   : 0.0329
    FVG_Distance_to_Price_ATR               : 0.0326
    OB_Displacement_Fuzzy_Score             : 0.0295
    TBM_Bars_to_Hit                         : 0.0270
    OB_Size_ATR                             : 0.0263
    BOS_Wick_Confirm                        : 0.0254

üìä Evaluating on Validation set...

  Accuracy: 0.667
  Precision (macro): 0.676
  Recall (macro): 0.697
  F1-Score (macro): 0.660

  Win Rate (excl. timeouts):
    Predicted: 47.4%
    Actual:    66.7%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          15         4
  True Win           15        23

  Overfitting Analysis:
    Training Accuracy: 0.991
    Validation Accuracy: 0.667
    Train-Val Gap: 0.324
    ‚ö†Ô∏è OVERFITTING DETECTED (gap > 15%)

üìä Evaluating on Test set...

  Accuracy: 0.787
  Precision (macro): 0.786
  Recall (macro): 0.789
  F1-Score (macro): 0.786

  Win Rate (excl. timeouts):
    Predicted: 51.1%
    Actual:    55.3%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          17         4
  True Win            6        20

‚ùå Random Forest training failed: Object of type bool_ is not JSON serializable

================================================================================
Training XGBoost for EURUSD
================================================================================

üìÇ Loading data for EURUSD...
  Excluding timeout samples (TBM_Label == 0)
  Train: 215 samples
  Val:   57 samples
  Test:  47 samples
  Selected 57 features
  Remapped labels: [0 1]

üöÄ Training XGBoost for EURUSD...
  Training samples: 215
  Features: 57

  Train accuracy: 1.000
  Val accuracy:   0.684
  Best iteration: 200

  Top 10 Most Important Features:
    BOS_Wick_Confirm                        : 0.1124
    OB_Age                                  : 0.0950
    ChoCH_Direction                         : 0.0457
    TBM_Risk_Per_Trade_ATR                  : 0.0372
    OB_Size_ATR                             : 0.0368
    TBM_Reward_Per_Trade_ATR                : 0.0322
    FVG_Distance_to_Price_ATR               : 0.0317
    FVG_Distance_to_Price_ATR_ZScore        : 0.0312
    BOS_Dist_ATR_ZScore                     : 0.0306
    BOS_Dist_ATR                            : 0.0301

üìä Evaluating on Validation set...

  Accuracy: 0.684
  Precision (macro): 0.700
  Recall (macro): 0.724
  F1-Score (macro): 0.679

  Win Rate (excl. timeouts):
    Predicted: 45.6%
    Actual:    66.7%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          16         3
  True Win           15        23

  Overfitting Analysis:
    Training Accuracy: 1.000
    Validation Accuracy: 0.684
    Train-Val Gap: 0.316
    ‚ö†Ô∏è OVERFITTING DETECTED (gap > 15%)

üìä Evaluating on Test set...

  Accuracy: 0.723
  Precision (macro): 0.721
  Recall (macro): 0.723
  F1-Score (macro): 0.721

  Win Rate (excl. timeouts):
    Predicted: 53.2%
    Actual:    55.3%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          15         6
  True Win            7        19

üíæ Model saved to /kaggle/working

================================================================================
Training Neural Network for EURUSD
================================================================================

üìÇ Loading data for EURUSD...
  Excluding timeout samples (TBM_Label == 0)
  Train: 215 samples
  Val:   57 samples
  Test:  47 samples
  Selected 57 features
  Remapped labels: [0 1]

üß† Training Neural Network for EURUSD...
  Device: cuda
  Training samples: 215
  Features: 57
  Architecture: 57 -> 512 -> 256 -> 128 -> 64 -> 3

  Dataset has < 300 samples. Applying data augmentation...
  Augmented training samples: 226
  Epoch 10/200 - LR: 0.010000 - Train Loss: 0.8421, Train Acc: 0.646 | Val Loss: 0.8749, Val Acc: 0.544
  Epoch 20/200 - LR: 0.005000 - Train Loss: 0.7931, Train Acc: 0.752 | Val Loss: 0.9233, Val Acc: 0.649
  Epoch 30/200 - LR: 0.001250 - Train Loss: 0.7289, Train Acc: 0.810 | Val Loss: 0.9710, Val Acc: 0.561

  Early stopping at epoch 39 (patience=30)
Learning curves saved to: models/trained/EURUSD_NN_learning_curves.png
Overfitting metrics saved to: models/trained/EURUSD_NN_overfitting_metrics.json

============================================================
OVERFITTING MONITOR SUMMARY
============================================================
Status: ‚ö† WARNING
Train-Val Gap: 28.37% (Threshold: 15%)
Total Epochs: 39
Training Duration: 0:00:01.775389

Final Metrics:
  Train Accuracy: 0.8451
  Val Accuracy:   0.5614
  Train Loss:     0.6811
  Val Loss:       0.9557

Best Epoch (Highest Val Accuracy):
  Epoch:          4
  Train Accuracy: 0.6195
  Val Accuracy:   0.6842
  Train Loss:     0.9039
  Val Loss:       0.8405
============================================================


  Final Train Accuracy: 0.845
  Final Val Accuracy:   0.561
  Train-Val Gap:        0.284 (28.4%)

üìä Evaluating on Validation set...

  Accuracy: 0.561
  Precision (macro): 0.583
  Recall (macro): 0.592
  F1-Score (macro): 0.556

  Win Rate (excl. timeouts):
    Predicted: 43.9%
    Actual:    66.7%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          13         6
  True Win           19        19

üìä Evaluating on Test set...

  Accuracy: 0.574
  Precision (macro): 0.564
  Recall (macro): 0.556
  F1-Score (macro): 0.550

  Win Rate (excl. timeouts):
    Predicted: 68.1%
    Actual:    55.3%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss           8        13
  True Win            7        19

üíæ Model saved to /kaggle/working

================================================================================
Training LSTM for EURUSD
================================================================================

üìÇ Loading data for EURUSD...
  Excluding timeout samples (TBM_Label == 0)
  Train: 215 samples
  Val:   57 samples
  Test:  47 samples
  Selected 57 features
  Remapped labels: [0 1]

üîÑ Training LSTM for EURUSD...
  Device: cuda
  Lookback window: 20 candles
  Training samples: 215
  Features: 57
  Creating sequences...
  Sequence shape: (195, 20, 57)
  Epoch 10/200 - LR: 0.001045 - Train Loss: 0.6549, Train Acc: 0.621 | Val Loss: 0.7438, Val Acc: 0.676
  Epoch 20/200 - LR: 0.002806 - Train Loss: 0.5397, Train Acc: 0.779 | Val Loss: 0.9031, Val Acc: 0.486
  Epoch 30/200 - LR: 0.005210 - Train Loss: 0.3612, Train Acc: 0.892 | Val Loss: 1.3025, Val Acc: 0.541

  Early stopping at epoch 38

  Final Train Accuracy: 0.903
  Final Val Accuracy:   0.459

üìä Evaluating on Validation set...

  Accuracy: 0.456
  Precision (macro): 0.566
  Recall (macro): 0.553
  F1-Score (macro): 0.450

  Win Rate (excl. timeouts):
    Predicted: 22.8%
    Actual:    66.7%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          16         3
  True Win           28        10

üìä Evaluating on Test set...

  Accuracy: 0.468
  Precision (macro): 0.501
  Recall (macro): 0.501
  F1-Score (macro): 0.431

  Win Rate (excl. timeouts):
    Predicted: 19.1%
    Actual:    55.3%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          17         4
  True Win           21         5

üíæ Model saved to /kaggle/working

################################################################################
# TRAINING: GBPUSD
################################################################################

################################################################################
# Training All Models for GBPUSD
################################################################################

================================================================================
Training Random Forest for GBPUSD
================================================================================

üìÇ Loading data for GBPUSD...
  Excluding timeout samples (TBM_Label == 0)
  Train: 196 samples
  Val:   48 samples
  Test:  44 samples
  Selected 57 features
  Remapped labels: [0 1]

üå≤ Training Random Forest for GBPUSD...
  Training samples: 196
  Features: 57

  üìä Dataset has 196 samples (< 300), applying augmentation...
  Augmented: 196 ‚Üí 214 samples

  üîÑ Performing cross-validation...

üîÑ Performing 5-fold cross-validation...

üå≤ Training Random Forest for GBPUSD...
  Training samples: 171
  Features: 57

  üìä Dataset has 171 samples (< 300), applying augmentation...
  Augmented: 171 ‚Üí 172 samples

  Train accuracy: 0.953
  Val accuracy:   0.698
  Train-Val gap:  0.256
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1039
    FVG_Bearish_Valid                       : 0.0422
    OB_Size_ATR                             : 0.0368
    TBM_Reward_Per_Trade_ATR                : 0.0365
    FVG_Distance_to_Price_ATR               : 0.0360
    OB_Size_ATR_ZScore                      : 0.0354
    OB_Bullish                              : 0.0340
    OB_Bearish                              : 0.0305
    FVG_Quality_Fuzzy                       : 0.0258
    FVG_Distance_to_Price_ATR_ZScore        : 0.0252
  Fold 1/5: Accuracy=0.698, F1=0.697

üå≤ Training Random Forest for GBPUSD...
  Training samples: 171
  Features: 57

  üìä Dataset has 171 samples (< 300), applying augmentation...
  Augmented: 171 ‚Üí 172 samples

  Train accuracy: 0.890
  Val accuracy:   0.535
  Train-Val gap:  0.355
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1176
    TBM_Reward_Per_Trade_ATR                : 0.0417
    TBM_Risk_Per_Trade_ATR                  : 0.0388
    OB_Size_ATR                             : 0.0363
    FVG_Distance_to_Price_ATR               : 0.0344
    OB_Bullish_Valid                        : 0.0275
    Distance_to_Entry_ATR                   : 0.0254
    FVG_Mitigated                           : 0.0254
    FVG_Distance_to_Price_ATR_ZScore        : 0.0246
    FVG_Depth_ATR_ZScore                    : 0.0233
  Fold 2/5: Accuracy=0.535, F1=0.535

üå≤ Training Random Forest for GBPUSD...
  Training samples: 171
  Features: 57

  üìä Dataset has 171 samples (< 300), applying augmentation...
  Augmented: 171 ‚Üí 172 samples

  Train accuracy: 0.942
  Val accuracy:   0.651
  Train-Val gap:  0.291
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1086
    OB_Size_ATR                             : 0.0608
    OB_Size_ATR_ZScore                      : 0.0552
    TBM_Risk_Per_Trade_ATR                  : 0.0488
    OB_Displacement_ATR                     : 0.0391
    TBM_Reward_Per_Trade_ATR                : 0.0384
    OB_Displacement_Fuzzy_Score             : 0.0359
    FVG_Quality_Fuzzy                       : 0.0358
    OB_Body_Fuzzy_Score                     : 0.0298
    Distance_to_Entry_ATR                   : 0.0253
  Fold 3/5: Accuracy=0.651, F1=0.644

üå≤ Training Random Forest for GBPUSD...
  Training samples: 171
  Features: 57

  üìä Dataset has 171 samples (< 300), applying augmentation...
  Augmented: 171 ‚Üí 172 samples

  Train accuracy: 0.936
  Val accuracy:   0.581
  Train-Val gap:  0.355
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1151
    TBM_Reward_Per_Trade_ATR                : 0.0425
    TBM_Risk_Per_Trade_ATR                  : 0.0404
    OB_Size_ATR                             : 0.0351
    Distance_to_Entry_ATR                   : 0.0321
    OB_Quality_Fuzzy                        : 0.0319
    FVG_Depth_ATR                           : 0.0301
    OB_Size_ATR_ZScore                      : 0.0298
    FVG_Size_Fuzzy_Score                    : 0.0286
    TBM_Bars_to_Hit                         : 0.0274
  Fold 4/5: Accuracy=0.581, F1=0.579

üå≤ Training Random Forest for GBPUSD...
  Training samples: 172
  Features: 57

  üìä Dataset has 172 samples (< 300), applying augmentation...
  Augmented: 172 ‚Üí 172 samples

  Train accuracy: 0.959
  Val accuracy:   0.786
  Train-Val gap:  0.174
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.0888
    OB_Size_ATR_ZScore                      : 0.0360
    Overbought_Fuzzy                        : 0.0332
    OB_Size_ATR                             : 0.0329
    TBM_Reward_Per_Trade_ATR                : 0.0319
    TBM_Risk_Per_Trade_ATR                  : 0.0317
    FVG_Distance_to_Price_ATR               : 0.0311
    FVG_Bearish_Valid                       : 0.0300
    OB_Displacement_ATR                     : 0.0269
    BOS_Wick_Confirm                        : 0.0265
  Fold 5/5: Accuracy=0.786, F1=0.786

  Cross-Validation Results:
    Mean Accuracy: 0.650 ¬± 0.088
    Mean F1-Score: 0.648 ¬± 0.088
    ‚úÖ Model is stable across folds

  Train accuracy: 0.995
  Val accuracy:   0.583
  Train-Val gap:  0.412
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1025
    OB_Size_ATR_ZScore                      : 0.0447
    OB_Size_ATR                             : 0.0357
    TBM_Reward_Per_Trade_ATR                : 0.0349
    TBM_Risk_Per_Trade_ATR                  : 0.0325
    FVG_Distance_to_Price_ATR               : 0.0301
    FVG_Size_Fuzzy_Score                    : 0.0273
    OB_Displacement_ATR                     : 0.0267
    FVG_Depth_ATR                           : 0.0261
    Distance_to_Entry_ATR                   : 0.0261

üìä Evaluating on Validation set...

  Accuracy: 0.583
  Precision (macro): 0.570
  Recall (macro): 0.561
  F1-Score (macro): 0.556

  Win Rate (excl. timeouts):
    Predicted: 68.8%
    Actual:    56.2%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss           8        13
  True Win            7        20

  Overfitting Analysis:
    Training Accuracy: 0.995
    Validation Accuracy: 0.583
    Train-Val Gap: 0.412
    ‚ö†Ô∏è OVERFITTING DETECTED (gap > 15%)

üìä Evaluating on Test set...

  Accuracy: 0.614
  Precision (macro): 0.712
  Recall (macro): 0.614
  F1-Score (macro): 0.563

  Win Rate (excl. timeouts):
    Predicted: 84.1%
    Actual:    50.0%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss           6        16
  True Win            1        21

‚ùå Random Forest training failed: Object of type bool_ is not JSON serializable

================================================================================
Training XGBoost for GBPUSD
================================================================================

üìÇ Loading data for GBPUSD...
  Excluding timeout samples (TBM_Label == 0)
  Train: 196 samples
  Val:   48 samples
  Test:  44 samples
  Selected 57 features
  Remapped labels: [0 1]

üöÄ Training XGBoost for GBPUSD...
  Training samples: 196
  Features: 57

  Train accuracy: 1.000
  Val accuracy:   0.604
  Best iteration: 200

  Top 10 Most Important Features:
    OB_Age                                  : 0.1126
    OB_Size_ATR                             : 0.0649
    ChoCH_Detected                          : 0.0512
    OB_Quality_Fuzzy                        : 0.0386
    OB_Displacement_Fuzzy_Score             : 0.0383
    TBM_Reward_Per_Trade_ATR                : 0.0375
    BOS_Wick_Confirm                        : 0.0366
    FVG_Distance_to_Price_ATR               : 0.0340
    Trend_Bias_Indicator                    : 0.0324
    OB_Size_ATR_ZScore                      : 0.0318

üìä Evaluating on Validation set...

  Accuracy: 0.604
  Precision (macro): 0.600
  Recall (macro): 0.601
  F1-Score (macro): 0.600

  Win Rate (excl. timeouts):
    Predicted: 54.2%
    Actual:    56.2%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          12         9
  True Win           10        17

  Overfitting Analysis:
    Training Accuracy: 1.000
    Validation Accuracy: 0.604
    Train-Val Gap: 0.396
    ‚ö†Ô∏è OVERFITTING DETECTED (gap > 15%)

üìä Evaluating on Test set...

  Accuracy: 0.659
  Precision (macro): 0.662
  Recall (macro): 0.659
  F1-Score (macro): 0.657

  Win Rate (excl. timeouts):
    Predicted: 56.8%
    Actual:    50.0%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          13         9
  True Win            6        16

üíæ Model saved to /kaggle/working

================================================================================
Training Neural Network for GBPUSD
================================================================================

üìÇ Loading data for GBPUSD...
  Excluding timeout samples (TBM_Label == 0)
  Train: 196 samples
  Val:   48 samples
  Test:  44 samples
  Selected 57 features
  Remapped labels: [0 1]

üß† Training Neural Network for GBPUSD...
  Device: cuda
  Training samples: 196
  Features: 57
  Architecture: 57 -> 512 -> 256 -> 128 -> 64 -> 3

  Dataset has < 300 samples. Applying data augmentation...
  Augmented training samples: 214
  Epoch 10/200 - LR: 0.010000 - Train Loss: 0.7937, Train Acc: 0.729 | Val Loss: 0.8571, Val Acc: 0.708
  Epoch 20/200 - LR: 0.002500 - Train Loss: 0.7477, Train Acc: 0.780 | Val Loss: 0.8806, Val Acc: 0.604
  Epoch 30/200 - LR: 0.000625 - Train Loss: 0.7072, Train Acc: 0.804 | Val Loss: 0.9171, Val Acc: 0.604

  Early stopping at epoch 36 (patience=30)
Learning curves saved to: models/trained/GBPUSD_NN_learning_curves.png
Overfitting metrics saved to: models/trained/GBPUSD_NN_overfitting_metrics.json

============================================================
OVERFITTING MONITOR SUMMARY
============================================================
Status: ‚ö† WARNING
Train-Val Gap: 19.28% (Threshold: 15%)
Total Epochs: 36
Training Duration: 0:00:01.573050

Final Metrics:
  Train Accuracy: 0.8178
  Val Accuracy:   0.6250
  Train Loss:     0.7194
  Val Loss:       0.9167

Best Epoch (Highest Val Accuracy):
  Epoch:          9
  Train Accuracy: 0.7290
  Val Accuracy:   0.7083
  Train Loss:     0.7937
  Val Loss:       0.8571
============================================================


  Final Train Accuracy: 0.818
  Final Val Accuracy:   0.625
  Train-Val Gap:        0.193 (19.3%)

üìä Evaluating on Validation set...

  Accuracy: 0.625
  Precision (macro): 0.628
  Recall (macro): 0.630
  F1-Score (macro): 0.624

  Win Rate (excl. timeouts):
    Predicted: 47.9%
    Actual:    56.2%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          14         7
  True Win           11        16

üìä Evaluating on Test set...

  Accuracy: 0.636
  Precision (macro): 0.647
  Recall (macro): 0.636
  F1-Score (macro): 0.629

  Win Rate (excl. timeouts):
    Predicted: 63.6%
    Actual:    50.0%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          11        11
  True Win            5        17

üíæ Model saved to /kaggle/working

================================================================================
Training LSTM for GBPUSD
================================================================================

üìÇ Loading data for GBPUSD...
  Excluding timeout samples (TBM_Label == 0)
  Train: 196 samples
  Val:   48 samples
  Test:  44 samples
  Selected 57 features
  Remapped labels: [0 1]

üîÑ Training LSTM for GBPUSD...
  Device: cuda
  Lookback window: 20 candles
  Training samples: 196
  Features: 57
  Creating sequences...
  Sequence shape: (176, 20, 57)
  Epoch 10/200 - LR: 0.001045 - Train Loss: 0.6481, Train Acc: 0.619 | Val Loss: 1.3746, Val Acc: 0.464
  Epoch 20/200 - LR: 0.002807 - Train Loss: 0.4818, Train Acc: 0.812 | Val Loss: 1.5183, Val Acc: 0.500
  Epoch 30/200 - LR: 0.005211 - Train Loss: 0.2975, Train Acc: 0.886 | Val Loss: 2.1903, Val Acc: 0.393

  Early stopping at epoch 36

  Final Train Accuracy: 0.960
  Final Val Accuracy:   0.357

üìä Evaluating on Validation set...

  Accuracy: 0.333
  Precision (macro): 0.254
  Recall (macro): 0.376
  F1-Score (macro): 0.271

  Win Rate (excl. timeouts):
    Predicted: 14.6%
    Actual:    56.2%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          15         6
  True Win           26         1

üìä Evaluating on Test set...

  Accuracy: 0.614
  Precision (macro): 0.652
  Recall (macro): 0.614
  F1-Score (macro): 0.588

  Win Rate (excl. timeouts):
    Predicted: 25.0%
    Actual:    50.0%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          19         3
  True Win           14         8

üíæ Model saved to /kaggle/working

################################################################################
# TRAINING: USDCAD
################################################################################

################################################################################
# Training All Models for USDCAD
################################################################################

================================================================================
Training Random Forest for USDCAD
================================================================================

üìÇ Loading data for USDCAD...
  Excluding timeout samples (TBM_Label == 0)
  Train: 190 samples
  Val:   48 samples
  Test:  43 samples
  Selected 57 features
  Remapped labels: [0 1]

üå≤ Training Random Forest for USDCAD...
  Training samples: 190
  Features: 57

  üìä Dataset has 190 samples (< 300), applying augmentation...
  Augmented: 190 ‚Üí 240 samples

  üîÑ Performing cross-validation...

üîÑ Performing 5-fold cross-validation...

üå≤ Training Random Forest for USDCAD...
  Training samples: 192
  Features: 57

  üìä Dataset has 192 samples (< 300), applying augmentation...
  Augmented: 192 ‚Üí 192 samples

  Train accuracy: 0.823
  Val accuracy:   0.708
  Train-Val gap:  0.115
  ‚úÖ Good generalization (gap ‚â§ 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.0647
    FVG_Quality_Fuzzy                       : 0.0579
    TBM_Risk_Per_Trade_ATR                  : 0.0522
    TBM_Reward_Per_Trade_ATR                : 0.0475
    TBM_Bars_to_Hit                         : 0.0411
    FVG_Size_Fuzzy_Score                    : 0.0372
    FVG_Distance_to_Price_ATR               : 0.0372
    FVG_Depth_ATR_ZScore                    : 0.0349
    FVG_Mitigated                           : 0.0330
    Displacement_Mag_ZScore                 : 0.0325
  Fold 1/5: Accuracy=0.708, F1=0.708

üå≤ Training Random Forest for USDCAD...
  Training samples: 192
  Features: 57

  üìä Dataset has 192 samples (< 300), applying augmentation...
  Augmented: 192 ‚Üí 192 samples

  Train accuracy: 0.833
  Val accuracy:   0.646
  Train-Val gap:  0.188
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.0774
    TBM_Risk_Per_Trade_ATR                  : 0.0459
    FVG_Depth_ATR_ZScore                    : 0.0430
    FVG_Bullish                             : 0.0425
    TBM_Reward_Per_Trade_ATR                : 0.0340
    Displacement_Mag_ZScore                 : 0.0336
    Distance_to_Entry_ATR                   : 0.0322
    FVG_Quality_Fuzzy                       : 0.0315
    FVG_Size_Fuzzy_Score                    : 0.0310
    TBM_Bars_to_Hit                         : 0.0300
  Fold 2/5: Accuracy=0.646, F1=0.644

üå≤ Training Random Forest for USDCAD...
  Training samples: 192
  Features: 57

  üìä Dataset has 192 samples (< 300), applying augmentation...
  Augmented: 192 ‚Üí 192 samples

  Train accuracy: 0.792
  Val accuracy:   0.500
  Train-Val gap:  0.292
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1086
    FVG_Quality_Fuzzy                       : 0.0649
    FVG_Size_Fuzzy_Score                    : 0.0496
    FVG_Depth_ATR_ZScore                    : 0.0469
    FVG_Mitigated                           : 0.0416
    TBM_Risk_Per_Trade_ATR                  : 0.0363
    TBM_Bars_to_Hit                         : 0.0360
    FVG_Depth_ATR                           : 0.0328
    Distance_to_Entry_ATR                   : 0.0314
    FVG_Bullish                             : 0.0299
  Fold 3/5: Accuracy=0.500, F1=0.497

üå≤ Training Random Forest for USDCAD...
  Training samples: 192
  Features: 57

  üìä Dataset has 192 samples (< 300), applying augmentation...
  Augmented: 192 ‚Üí 192 samples

  Train accuracy: 0.859
  Val accuracy:   0.625
  Train-Val gap:  0.234
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.0789
    TBM_Bars_to_Hit                         : 0.0772
    TBM_Risk_Per_Trade_ATR                  : 0.0621
    FVG_Depth_ATR_ZScore                    : 0.0487
    TBM_Reward_Per_Trade_ATR                : 0.0417
    FVG_Size_Fuzzy_Score                    : 0.0372
    Distance_to_Entry_ATR                   : 0.0315
    FVG_Bullish                             : 0.0311
    FVG_Quality_Fuzzy                       : 0.0306
    Displacement_Mag_ZScore                 : 0.0269
  Fold 4/5: Accuracy=0.625, F1=0.624

üå≤ Training Random Forest for USDCAD...
  Training samples: 192
  Features: 57

  üìä Dataset has 192 samples (< 300), applying augmentation...
  Augmented: 192 ‚Üí 192 samples

  Train accuracy: 0.870
  Val accuracy:   0.812
  Train-Val gap:  0.057
  ‚úÖ Good generalization (gap ‚â§ 15%)

  Top 10 Most Important Features:
    FVG_Bullish                             : 0.0690
    TBM_Bars_to_Hit                         : 0.0549
    TBM_Risk_Per_Trade_ATR                  : 0.0530
    OB_Age                                  : 0.0496
    FVG_Depth_ATR_ZScore                    : 0.0412
    TBM_Reward_Per_Trade_ATR                : 0.0392
    FVG_Size_Fuzzy_Score                    : 0.0375
    FVG_Quality_Fuzzy                       : 0.0339
    Distance_to_Entry_ATR                   : 0.0282
    Displacement_Mag_ZScore                 : 0.0268
  Fold 5/5: Accuracy=0.812, F1=0.812

  Cross-Validation Results:
    Mean Accuracy: 0.658 ¬± 0.103
    Mean F1-Score: 0.657 ¬± 0.104
    ‚úÖ Model is stable across folds

  Train accuracy: 0.963
  Val accuracy:   0.625
  Train-Val gap:  0.338
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.0696
    FVG_Bullish                             : 0.0674
    TBM_Bars_to_Hit                         : 0.0462
    TBM_Risk_Per_Trade_ATR                  : 0.0408
    FVG_Depth_ATR_ZScore                    : 0.0401
    FVG_Size_Fuzzy_Score                    : 0.0376
    TBM_Reward_Per_Trade_ATR                : 0.0362
    Displacement_Mag_ZScore                 : 0.0323
    FVG_Distance_to_Price_ATR_ZScore        : 0.0289
    FVG_Distance_to_Price_ATR               : 0.0278

üìä Evaluating on Validation set...

  Accuracy: 0.625
  Precision (macro): 0.683
  Recall (macro): 0.683
  F1-Score (macro): 0.625

  Win Rate (excl. timeouts):
    Predicted: 64.6%
    Actual:    35.4%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          15        16
  True Win            2        15

  Overfitting Analysis:
    Training Accuracy: 0.963
    Validation Accuracy: 0.625
    Train-Val Gap: 0.338
    ‚ö†Ô∏è OVERFITTING DETECTED (gap > 15%)

üìä Evaluating on Test set...

  Accuracy: 0.674
  Precision (macro): 0.692
  Recall (macro): 0.648
  F1-Score (macro): 0.642

  Win Rate (excl. timeouts):
    Predicted: 74.4%
    Actual:    55.8%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss           8        11
  True Win            3        21

‚ùå Random Forest training failed: Object of type bool_ is not JSON serializable

================================================================================
Training XGBoost for USDCAD
================================================================================

üìÇ Loading data for USDCAD...
  Excluding timeout samples (TBM_Label == 0)
  Train: 190 samples
  Val:   48 samples
  Test:  43 samples
  Selected 57 features
  Remapped labels: [0 1]

üöÄ Training XGBoost for USDCAD...
  Training samples: 190
  Features: 57

  Train accuracy: 1.000
  Val accuracy:   0.646
  Best iteration: 200

  Top 10 Most Important Features:
    OB_Age                                  : 0.1108
    FVG_Depth_ATR                           : 0.0552
    OB_Size_ATR                             : 0.0488
    TBM_Risk_Per_Trade_ATR                  : 0.0398
    FVG_Distance_to_Price_ATR               : 0.0398
    TBM_Reward_Per_Trade_ATR                : 0.0385
    FVG_Depth_ATR_ZScore                    : 0.0363
    FVG_Quality_Fuzzy                       : 0.0346
    FVG_Distance_to_Price_ATR_ZScore        : 0.0322
    OB_Size_ATR_ZScore                      : 0.0312

üìä Evaluating on Validation set...

  Accuracy: 0.646
  Precision (macro): 0.675
  Recall (macro): 0.686
  F1-Score (macro): 0.644

  Win Rate (excl. timeouts):
    Predicted: 58.3%
    Actual:    35.4%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          17        14
  True Win            3        14

  Overfitting Analysis:
    Training Accuracy: 1.000
    Validation Accuracy: 0.646
    Train-Val Gap: 0.354
    ‚ö†Ô∏è OVERFITTING DETECTED (gap > 15%)

üìä Evaluating on Test set...

  Accuracy: 0.721
  Precision (macro): 0.718
  Recall (macro): 0.712
  F1-Score (macro): 0.713

  Win Rate (excl. timeouts):
    Predicted: 60.5%
    Actual:    55.8%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          12         7
  True Win            5        19

üíæ Model saved to /kaggle/working

================================================================================
Training Neural Network for USDCAD
================================================================================

üìÇ Loading data for USDCAD...
  Excluding timeout samples (TBM_Label == 0)
  Train: 190 samples
  Val:   48 samples
  Test:  43 samples
  Selected 57 features
  Remapped labels: [0 1]

üß† Training Neural Network for USDCAD...
  Device: cuda
  Training samples: 190
  Features: 57
  Architecture: 57 -> 512 -> 256 -> 128 -> 64 -> 3

  Dataset has < 300 samples. Applying data augmentation...
  Augmented training samples: 240
  Epoch 10/200 - LR: 0.010000 - Train Loss: 0.8388, Train Acc: 0.713 | Val Loss: 0.8686, Val Acc: 0.562
  Epoch 20/200 - LR: 0.005000 - Train Loss: 0.7313, Train Acc: 0.829 | Val Loss: 0.8350, Val Acc: 0.667
  Epoch 30/200 - LR: 0.002500 - Train Loss: 0.6990, Train Acc: 0.842 | Val Loss: 0.8781, Val Acc: 0.625
  Epoch 40/200 - LR: 0.000625 - Train Loss: 0.6476, Train Acc: 0.871 | Val Loss: 0.9144, Val Acc: 0.604
  Epoch 50/200 - LR: 0.000313 - Train Loss: 0.6003, Train Acc: 0.925 | Val Loss: 0.9365, Val Acc: 0.625

  Early stopping at epoch 51 (patience=30)
Learning curves saved to: models/trained/USDCAD_NN_learning_curves.png
Overfitting metrics saved to: models/trained/USDCAD_NN_overfitting_metrics.json

============================================================
OVERFITTING MONITOR SUMMARY
============================================================
Status: ‚ö† WARNING
Train-Val Gap: 25.00% (Threshold: 15%)
Total Epochs: 51
Training Duration: 0:00:02.376115

Final Metrics:
  Train Accuracy: 0.8958
  Val Accuracy:   0.6458
  Train Loss:     0.6369
  Val Loss:       0.9472

Best Epoch (Highest Val Accuracy):
  Epoch:          18
  Train Accuracy: 0.8083
  Val Accuracy:   0.7500
  Train Loss:     0.7519
  Val Loss:       0.8422
============================================================


  Final Train Accuracy: 0.896
  Final Val Accuracy:   0.646
  Train-Val Gap:        0.250 (25.0%)

üìä Evaluating on Validation set...

  Accuracy: 0.646
  Precision (macro): 0.659
  Recall (macro): 0.673
  F1-Score (macro): 0.642

  Win Rate (excl. timeouts):
    Predicted: 54.2%
    Actual:    35.4%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          18        13
  True Win            4        13

üìä Evaluating on Test set...

  Accuracy: 0.651
  Precision (macro): 0.656
  Recall (macro): 0.627
  F1-Score (macro): 0.622

  Win Rate (excl. timeouts):
    Predicted: 72.1%
    Actual:    55.8%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss           8        11
  True Win            4        20

üíæ Model saved to /kaggle/working

================================================================================
Training LSTM for USDCAD
================================================================================

üìÇ Loading data for USDCAD...
  Excluding timeout samples (TBM_Label == 0)
  Train: 190 samples
  Val:   48 samples
  Test:  43 samples
  Selected 57 features
  Remapped labels: [0 1]

üîÑ Training LSTM for USDCAD...
  Device: cuda
  Lookback window: 20 candles
  Training samples: 190
  Features: 57
  Creating sequences...
  Sequence shape: (170, 20, 57)
  Epoch 10/200 - LR: 0.001045 - Train Loss: 0.5861, Train Acc: 0.724 | Val Loss: 1.3194, Val Acc: 0.393
  Epoch 20/200 - LR: 0.002807 - Train Loss: 0.4403, Train Acc: 0.794 | Val Loss: 4.1041, Val Acc: 0.500
  Epoch 30/200 - LR: 0.005211 - Train Loss: 0.3206, Train Acc: 0.888 | Val Loss: 2.5664, Val Acc: 0.429

  Early stopping at epoch 34

  Final Train Accuracy: 0.941
  Final Val Accuracy:   0.393

üìä Evaluating on Validation set...

  Accuracy: 0.479
  Precision (macro): 0.467
  Recall (macro): 0.464
  F1-Score (macro): 0.460

  Win Rate (excl. timeouts):
    Predicted: 45.8%
    Actual:    35.4%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          16        15
  True Win           10         7

üìä Evaluating on Test set...

  Accuracy: 0.535
  Precision (macro): 0.553
  Recall (macro): 0.550
  F1-Score (macro): 0.533

  Win Rate (excl. timeouts):
    Predicted: 37.2%
    Actual:    55.8%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          13         6
  True Win           14        10

üíæ Model saved to /kaggle/working

################################################################################
# TRAINING: USDCHF
################################################################################

################################################################################
# Training All Models for USDCHF
################################################################################

================================================================================
Training Random Forest for USDCHF
================================================================================

üìÇ Loading data for USDCHF...
  Excluding timeout samples (TBM_Label == 0)
  Train: 201 samples
  Val:   46 samples
  Test:  46 samples
  Selected 57 features
  Remapped labels: [0 1]

üå≤ Training Random Forest for USDCHF...
  Training samples: 201
  Features: 57

  üìä Dataset has 201 samples (< 300), applying augmentation...
  Augmented: 201 ‚Üí 232 samples

  üîÑ Performing cross-validation...

üîÑ Performing 5-fold cross-validation...

üå≤ Training Random Forest for USDCHF...
  Training samples: 185
  Features: 57

  üìä Dataset has 185 samples (< 300), applying augmentation...
  Augmented: 185 ‚Üí 186 samples

  Train accuracy: 0.849
  Val accuracy:   0.681
  Train-Val gap:  0.169
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.0798
    TBM_Bars_to_Hit                         : 0.0581
    TBM_Reward_Per_Trade_ATR                : 0.0514
    FVG_Depth_ATR_ZScore                    : 0.0404
    FVG_Distance_to_Price_ATR_ZScore        : 0.0343
    TBM_Risk_Per_Trade_ATR                  : 0.0342
    BOS_Commitment_Flag                     : 0.0334
    Distance_to_Entry_ATR                   : 0.0319
    FVG_Quality_Fuzzy                       : 0.0319
    OB_Displacement_Fuzzy_Score             : 0.0308
  Fold 1/5: Accuracy=0.681, F1=0.676

üå≤ Training Random Forest for USDCHF...
  Training samples: 185
  Features: 57

  üìä Dataset has 185 samples (< 300), applying augmentation...
  Augmented: 185 ‚Üí 186 samples

  Train accuracy: 0.871
  Val accuracy:   0.766
  Train-Val gap:  0.105
  ‚úÖ Good generalization (gap ‚â§ 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1171
    FVG_Mitigated                           : 0.0576
    TBM_Risk_Per_Trade_ATR                  : 0.0454
    TBM_Bars_to_Hit                         : 0.0418
    FVG_Distance_to_Price_ATR_ZScore        : 0.0393
    TBM_Reward_Per_Trade_ATR                : 0.0365
    FVG_Depth_ATR_ZScore                    : 0.0345
    Distance_to_Entry_ATR                   : 0.0319
    OB_Size_ATR_ZScore                      : 0.0303
    FVG_Distance_to_Price_ATR               : 0.0254
  Fold 2/5: Accuracy=0.766, F1=0.762

üå≤ Training Random Forest for USDCHF...
  Training samples: 186
  Features: 57

  üìä Dataset has 186 samples (< 300), applying augmentation...
  Augmented: 186 ‚Üí 186 samples

  Train accuracy: 0.828
  Val accuracy:   0.630
  Train-Val gap:  0.198
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.0845
    TBM_Reward_Per_Trade_ATR                : 0.0586
    TBM_Risk_Per_Trade_ATR                  : 0.0494
    FVG_Size_Fuzzy_Score                    : 0.0494
    FVG_Quality_Fuzzy                       : 0.0439
    TBM_Bars_to_Hit                         : 0.0396
    FVG_Distance_to_Price_ATR               : 0.0376
    FVG_Depth_ATR_ZScore                    : 0.0376
    Distance_to_Entry_ATR                   : 0.0336
    FVG_Depth_ATR                           : 0.0303
  Fold 3/5: Accuracy=0.630, F1=0.630

üå≤ Training Random Forest for USDCHF...
  Training samples: 186
  Features: 57

  üìä Dataset has 186 samples (< 300), applying augmentation...
  Augmented: 186 ‚Üí 186 samples

  Train accuracy: 0.882
  Val accuracy:   0.652
  Train-Val gap:  0.230
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1061
    FVG_Distance_to_Price_ATR_ZScore        : 0.0426
    TBM_Bars_to_Hit                         : 0.0371
    OB_Bearish_Valid                        : 0.0366
    TBM_Reward_Per_Trade_ATR                : 0.0359
    Distance_to_Entry_ATR                   : 0.0351
    FVG_Bearish_Valid                       : 0.0311
    OB_Displacement_ATR_ZScore              : 0.0304
    FVG_Mitigated                           : 0.0290
    FVG_Quality_Fuzzy                       : 0.0279
  Fold 4/5: Accuracy=0.652, F1=0.650

üå≤ Training Random Forest for USDCHF...
  Training samples: 186
  Features: 57

  üìä Dataset has 186 samples (< 300), applying augmentation...
  Augmented: 186 ‚Üí 186 samples

  Train accuracy: 0.866
  Val accuracy:   0.630
  Train-Val gap:  0.235
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1026
    OB_Bearish_Valid                        : 0.0469
    TBM_Reward_Per_Trade_ATR                : 0.0415
    TBM_Bars_to_Hit                         : 0.0401
    FVG_Depth_ATR_ZScore                    : 0.0372
    FVG_Distance_to_Price_ATR_ZScore        : 0.0365
    FVG_Mitigated                           : 0.0358
    FVG_Quality_Fuzzy                       : 0.0349
    Distance_to_Entry_ATR                   : 0.0290
    TBM_Risk_Per_Trade_ATR                  : 0.0288
  Fold 5/5: Accuracy=0.630, F1=0.630

  Cross-Validation Results:
    Mean Accuracy: 0.672 ¬± 0.051
    Mean F1-Score: 0.670 ¬± 0.049
    ‚úÖ Model is stable across folds

  Train accuracy: 0.961
  Val accuracy:   0.696
  Train-Val gap:  0.266
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.0887
    FVG_Distance_to_Price_ATR_ZScore        : 0.0429
    TBM_Reward_Per_Trade_ATR                : 0.0409
    TBM_Bars_to_Hit                         : 0.0398
    TBM_Risk_Per_Trade_ATR                  : 0.0381
    FVG_Mitigated                           : 0.0315
    FVG_Depth_ATR                           : 0.0311
    FVG_Size_Fuzzy_Score                    : 0.0295
    Distance_to_Entry_ATR                   : 0.0293
    FVG_Depth_ATR_ZScore                    : 0.0291

üìä Evaluating on Validation set...

  Accuracy: 0.696
  Precision (macro): 0.619
  Recall (macro): 0.644
  F1-Score (macro): 0.625

  Win Rate (excl. timeouts):
    Predicted: 67.4%
    Actual:    76.1%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss           6         5
  True Win            9        26

  Overfitting Analysis:
    Training Accuracy: 0.961
    Validation Accuracy: 0.696
    Train-Val Gap: 0.266
    ‚ö†Ô∏è OVERFITTING DETECTED (gap > 15%)

üìä Evaluating on Test set...

  Accuracy: 0.696
  Precision (macro): 0.710
  Recall (macro): 0.696
  F1-Score (macro): 0.690

  Win Rate (excl. timeouts):
    Predicted: 63.0%
    Actual:    50.0%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          13        10
  True Win            4        19

‚ùå Random Forest training failed: Object of type bool_ is not JSON serializable

================================================================================
Training XGBoost for USDCHF
================================================================================

üìÇ Loading data for USDCHF...
  Excluding timeout samples (TBM_Label == 0)
  Train: 201 samples
  Val:   46 samples
  Test:  46 samples
  Selected 57 features
  Remapped labels: [0 1]

üöÄ Training XGBoost for USDCHF...
  Training samples: 201
  Features: 57

  Train accuracy: 1.000
  Val accuracy:   0.761
  Best iteration: 200

  Top 10 Most Important Features:
    OB_Age                                  : 0.1247
    FVG_Quality_Fuzzy                       : 0.0602
    TBM_Reward_Per_Trade_ATR                : 0.0549
    FVG_Depth_ATR_ZScore                    : 0.0356
    OB_Size_ATR_ZScore                      : 0.0353
    OB_Size_ATR                             : 0.0343
    TBM_Risk_Per_Trade_ATR                  : 0.0334
    FVG_Distance_to_Price_ATR_ZScore        : 0.0324
    FVG_Distance_to_Price_ATR               : 0.0324
    OB_Displacement_Fuzzy_Score             : 0.0316

üìä Evaluating on Validation set...

  Accuracy: 0.761
  Precision (macro): 0.700
  Recall (macro): 0.749
  F1-Score (macro): 0.712

  Win Rate (excl. timeouts):
    Predicted: 65.2%
    Actual:    76.1%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss           8         3
  True Win            8        27

  Overfitting Analysis:
    Training Accuracy: 1.000
    Validation Accuracy: 0.761
    Train-Val Gap: 0.239
    ‚ö†Ô∏è OVERFITTING DETECTED (gap > 15%)

üìä Evaluating on Test set...

  Accuracy: 0.717
  Precision (macro): 0.718
  Recall (macro): 0.717
  F1-Score (macro): 0.717

  Win Rate (excl. timeouts):
    Predicted: 47.8%
    Actual:    50.0%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          17         6
  True Win            7        16

üíæ Model saved to /kaggle/working

================================================================================
Training Neural Network for USDCHF
================================================================================

üìÇ Loading data for USDCHF...
  Excluding timeout samples (TBM_Label == 0)
  Train: 201 samples
  Val:   46 samples
  Test:  46 samples
  Selected 57 features
  Remapped labels: [0 1]

üß† Training Neural Network for USDCHF...
  Device: cuda
  Training samples: 201
  Features: 57
  Architecture: 57 -> 512 -> 256 -> 128 -> 64 -> 3

  Dataset has < 300 samples. Applying data augmentation...
  Augmented training samples: 232
  Epoch 10/200 - LR: 0.010000 - Train Loss: 0.7710, Train Acc: 0.759 | Val Loss: 0.8329, Val Acc: 0.630
  Epoch 20/200 - LR: 0.010000 - Train Loss: 0.7452, Train Acc: 0.828 | Val Loss: 0.8010, Val Acc: 0.696
  Epoch 30/200 - LR: 0.005000 - Train Loss: 0.7496, Train Acc: 0.806 | Val Loss: 0.7983, Val Acc: 0.739
  Epoch 40/200 - LR: 0.001250 - Train Loss: 0.6890, Train Acc: 0.845 | Val Loss: 0.8294, Val Acc: 0.696

  Early stopping at epoch 49 (patience=30)
Learning curves saved to: models/trained/USDCHF_NN_learning_curves.png
Overfitting metrics saved to: models/trained/USDCHF_NN_overfitting_metrics.json

============================================================
OVERFITTING MONITOR SUMMARY
============================================================
Status: ‚úì HEALTHY
Train-Val Gap: 13.61% (Threshold: 15%)
Total Epochs: 49
Training Duration: 0:00:02.124241

Final Metrics:
  Train Accuracy: 0.8534
  Val Accuracy:   0.7174
  Train Loss:     0.6719
  Val Loss:       0.8247

Best Epoch (Highest Val Accuracy):
  Epoch:          18
  Train Accuracy: 0.7629
  Val Accuracy:   0.7826
  Train Loss:     0.7822
  Val Loss:       0.7634
============================================================


  Final Train Accuracy: 0.853
  Final Val Accuracy:   0.717
  Train-Val Gap:        0.136 (13.6%)

üìä Evaluating on Validation set...

  Accuracy: 0.717
  Precision (macro): 0.669
  Recall (macro): 0.721
  F1-Score (macro): 0.673

  Win Rate (excl. timeouts):
    Predicted: 60.9%
    Actual:    76.1%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss           8         3
  True Win           10        25

üìä Evaluating on Test set...

  Accuracy: 0.717
  Precision (macro): 0.718
  Recall (macro): 0.717
  F1-Score (macro): 0.717

  Win Rate (excl. timeouts):
    Predicted: 47.8%
    Actual:    50.0%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          17         6
  True Win            7        16

üíæ Model saved to /kaggle/working

================================================================================
Training LSTM for USDCHF
================================================================================

üìÇ Loading data for USDCHF...
  Excluding timeout samples (TBM_Label == 0)
  Train: 201 samples
  Val:   46 samples
  Test:  46 samples
  Selected 57 features
  Remapped labels: [0 1]

üîÑ Training LSTM for USDCHF...
  Device: cuda
  Lookback window: 20 candles
  Training samples: 201
  Features: 57
  Creating sequences...
  Sequence shape: (181, 20, 57)
  Epoch 10/200 - LR: 0.001045 - Train Loss: 0.5954, Train Acc: 0.674 | Val Loss: 0.7529, Val Acc: 0.500
  Epoch 20/200 - LR: 0.002806 - Train Loss: 0.5445, Train Acc: 0.707 | Val Loss: 0.8299, Val Acc: 0.308
  Epoch 30/200 - LR: 0.005210 - Train Loss: 0.3769, Train Acc: 0.917 | Val Loss: 3.3283, Val Acc: 0.308

  Early stopping at epoch 35

  Final Train Accuracy: 0.901
  Final Val Accuracy:   0.462

üìä Evaluating on Validation set...

  Accuracy: 0.283
  Precision (macro): 0.380
  Recall (macro): 0.373
  F1-Score (macro): 0.282

  Win Rate (excl. timeouts):
    Predicted: 26.1%
    Actual:    76.1%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss           6         5
  True Win           28         7

üìä Evaluating on Test set...

  Accuracy: 0.609
  Precision (macro): 0.617
  Recall (macro): 0.609
  F1-Score (macro): 0.602

  Win Rate (excl. timeouts):
    Predicted: 37.0%
    Actual:    50.0%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          17         6
  True Win           12        11

üíæ Model saved to /kaggle/working

################################################################################
# TRAINING: USDJPY
################################################################################

################################################################################
# Training All Models for USDJPY
################################################################################

================================================================================
Training Random Forest for USDJPY
================================================================================

üìÇ Loading data for USDJPY...
  Excluding timeout samples (TBM_Label == 0)
  Train: 270 samples
  Val:   50 samples
  Test:  53 samples
  Selected 57 features
  Remapped labels: [0 1]

üå≤ Training Random Forest for USDJPY...
  Training samples: 270
  Features: 57

  üìä Dataset has 270 samples (< 300), applying augmentation...
  Augmented: 270 ‚Üí 312 samples

  üîÑ Performing cross-validation...

üîÑ Performing 5-fold cross-validation...

üå≤ Training Random Forest for USDJPY...
  Training samples: 249
  Features: 57

  üìä Dataset has 249 samples (< 300), applying augmentation...
  Augmented: 249 ‚Üí 250 samples

  Train accuracy: 0.904
  Val accuracy:   0.683
  Train-Val gap:  0.221
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1481
    TBM_Risk_Per_Trade_ATR                  : 0.0550
    TBM_Reward_Per_Trade_ATR                : 0.0538
    Distance_to_Entry_ATR                   : 0.0427
    FVG_Distance_to_Price_ATR_ZScore        : 0.0382
    FVG_Bearish_Valid                       : 0.0379
    FVG_Distance_to_Price_ATR               : 0.0340
    FVG_Quality_Fuzzy                       : 0.0302
    OB_Size_ATR                             : 0.0293
    FVG_Depth_ATR_ZScore                    : 0.0272
  Fold 1/5: Accuracy=0.683, F1=0.682

üå≤ Training Random Forest for USDJPY...
  Training samples: 249
  Features: 57

  üìä Dataset has 249 samples (< 300), applying augmentation...
  Augmented: 249 ‚Üí 250 samples

  Train accuracy: 0.896
  Val accuracy:   0.730
  Train-Val gap:  0.166
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1736
    FVG_Distance_to_Price_ATR_ZScore        : 0.0491
    FVG_Bearish_Valid                       : 0.0417
    Distance_to_Entry_ATR                   : 0.0390
    TBM_Reward_Per_Trade_ATR                : 0.0327
    TBM_Bars_to_Hit                         : 0.0319
    FVG_Distance_to_Price_ATR               : 0.0315
    TBM_Risk_Per_Trade_ATR                  : 0.0312
    FVG_Quality_Fuzzy                       : 0.0255
    FVG_Depth_ATR_ZScore                    : 0.0244
  Fold 2/5: Accuracy=0.730, F1=0.730

üå≤ Training Random Forest for USDJPY...
  Training samples: 250
  Features: 57

  üìä Dataset has 250 samples (< 300), applying augmentation...
  Augmented: 250 ‚Üí 250 samples

  Train accuracy: 0.904
  Val accuracy:   0.790
  Train-Val gap:  0.114
  ‚úÖ Good generalization (gap ‚â§ 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1435
    Distance_to_Entry_ATR                   : 0.0452
    FVG_Size_Fuzzy_Score                    : 0.0428
    FVG_Distance_to_Price_ATR_ZScore        : 0.0423
    TBM_Risk_Per_Trade_ATR                  : 0.0420
    FVG_Distance_to_Price_ATR               : 0.0414
    FVG_Mitigated                           : 0.0398
    FVG_Bearish_Valid                       : 0.0342
    TBM_Reward_Per_Trade_ATR                : 0.0319
    FVG_Bearish                             : 0.0319
  Fold 3/5: Accuracy=0.790, F1=0.790

üå≤ Training Random Forest for USDJPY...
  Training samples: 250
  Features: 57

  üìä Dataset has 250 samples (< 300), applying augmentation...
  Augmented: 250 ‚Üí 250 samples

  Train accuracy: 0.892
  Val accuracy:   0.774
  Train-Val gap:  0.118
  ‚úÖ Good generalization (gap ‚â§ 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1595
    FVG_Distance_to_Price_ATR_ZScore        : 0.0495
    FVG_Mitigated                           : 0.0455
    TBM_Risk_Per_Trade_ATR                  : 0.0420
    FVG_Distance_to_Price_ATR               : 0.0403
    TBM_Reward_Per_Trade_ATR                : 0.0358
    Distance_to_Entry_ATR                   : 0.0351
    Bullish_Trend_Fuzzy                     : 0.0249
    FVG_Depth_ATR_ZScore                    : 0.0242
    Trend_Strength_Fuzzy                    : 0.0241
  Fold 4/5: Accuracy=0.774, F1=0.773

üå≤ Training Random Forest for USDJPY...
  Training samples: 250
  Features: 57

  üìä Dataset has 250 samples (< 300), applying augmentation...
  Augmented: 250 ‚Üí 250 samples

  Train accuracy: 0.912
  Val accuracy:   0.742
  Train-Val gap:  0.170
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1620
    TBM_Risk_Per_Trade_ATR                  : 0.0646
    FVG_Distance_to_Price_ATR_ZScore        : 0.0619
    TBM_Reward_Per_Trade_ATR                : 0.0481
    FVG_Mitigated                           : 0.0426
    FVG_Distance_to_Price_ATR               : 0.0426
    Distance_to_Entry_ATR                   : 0.0424
    TBM_Bars_to_Hit                         : 0.0359
    FVG_Depth_ATR_ZScore                    : 0.0310
    Trend_Strength_Fuzzy                    : 0.0230
  Fold 5/5: Accuracy=0.742, F1=0.739

  Cross-Validation Results:
    Mean Accuracy: 0.744 ¬± 0.037
    Mean F1-Score: 0.743 ¬± 0.037
    ‚úÖ Model is stable across folds

  Train accuracy: 0.984
  Val accuracy:   0.800
  Train-Val gap:  0.184
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1417
    TBM_Reward_Per_Trade_ATR                : 0.0493
    TBM_Risk_Per_Trade_ATR                  : 0.0471
    FVG_Distance_to_Price_ATR_ZScore        : 0.0459
    Distance_to_Entry_ATR                   : 0.0372
    FVG_Distance_to_Price_ATR               : 0.0353
    TBM_Bars_to_Hit                         : 0.0316
    FVG_Mitigated                           : 0.0293
    FVG_Bearish_Valid                       : 0.0265
    FVG_Depth_ATR_ZScore                    : 0.0225

üìä Evaluating on Validation set...

  Accuracy: 0.800
  Precision (macro): 0.808
  Recall (macro): 0.800
  F1-Score (macro): 0.799

  Win Rate (excl. timeouts):
    Predicted: 42.0%
    Actual:    50.0%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          22         3
  True Win            7        18

  Overfitting Analysis:
    Training Accuracy: 0.984
    Validation Accuracy: 0.800
    Train-Val Gap: 0.184
    ‚ö†Ô∏è OVERFITTING DETECTED (gap > 15%)

üìä Evaluating on Test set...

  Accuracy: 0.660
  Precision (macro): 0.658
  Recall (macro): 0.668
  F1-Score (macro): 0.654

  Win Rate (excl. timeouts):
    Predicted: 50.9%
    Actual:    62.3%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          14         6
  True Win           12        21

‚ùå Random Forest training failed: Object of type bool_ is not JSON serializable

================================================================================
Training XGBoost for USDJPY
================================================================================

üìÇ Loading data for USDJPY...
  Excluding timeout samples (TBM_Label == 0)
  Train: 270 samples
  Val:   50 samples
  Test:  53 samples
  Selected 57 features
  Remapped labels: [0 1]

üöÄ Training XGBoost for USDJPY...
  Training samples: 270
  Features: 57

  Train accuracy: 1.000
  Val accuracy:   0.780
  Best iteration: 200

  Top 10 Most Important Features:
    OB_Age                                  : 0.1237
    Oversold_Fuzzy                          : 0.0714
    FVG_Quality_Fuzzy                       : 0.0710
    FVG_Bearish_Valid                       : 0.0442
    FVG_Distance_to_Price_ATR               : 0.0395
    TBM_Reward_Per_Trade_ATR                : 0.0370
    OB_Bullish                              : 0.0366
    FVG_Distance_to_Price_ATR_ZScore        : 0.0357
    TBM_Risk_Per_Trade_ATR                  : 0.0349
    TBM_Bars_to_Hit                         : 0.0316

üìä Evaluating on Validation set...

  Accuracy: 0.780
  Precision (macro): 0.780
  Recall (macro): 0.780
  F1-Score (macro): 0.780

  Win Rate (excl. timeouts):
    Predicted: 48.0%
    Actual:    50.0%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          20         5
  True Win            6        19

  Overfitting Analysis:
    Training Accuracy: 1.000
    Validation Accuracy: 0.780
    Train-Val Gap: 0.220
    ‚ö†Ô∏è OVERFITTING DETECTED (gap > 15%)

üìä Evaluating on Test set...

  Accuracy: 0.660
  Precision (macro): 0.644
  Recall (macro): 0.648
  F1-Score (macro): 0.645

  Win Rate (excl. timeouts):
    Predicted: 58.5%
    Actual:    62.3%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          12         8
  True Win           10        23

üíæ Model saved to /kaggle/working

================================================================================
Training Neural Network for USDJPY
================================================================================

üìÇ Loading data for USDJPY...
  Excluding timeout samples (TBM_Label == 0)
  Train: 270 samples
  Val:   50 samples
  Test:  53 samples
  Selected 57 features
  Remapped labels: [0 1]

üß† Training Neural Network for USDJPY...
  Device: cuda
  Training samples: 270
  Features: 57
  Architecture: 57 -> 512 -> 256 -> 128 -> 64 -> 3

  Dataset has < 300 samples. Applying data augmentation...
  Augmented training samples: 312
  Epoch 10/200 - LR: 0.010000 - Train Loss: 0.8019, Train Acc: 0.728 | Val Loss: 0.8108, Val Acc: 0.780
  Epoch 20/200 - LR: 0.005000 - Train Loss: 0.7882, Train Acc: 0.747 | Val Loss: 0.8890, Val Acc: 0.660
  Epoch 30/200 - LR: 0.002500 - Train Loss: 0.7164, Train Acc: 0.795 | Val Loss: 0.9294, Val Acc: 0.660
  Epoch 40/200 - LR: 0.000625 - Train Loss: 0.6695, Train Acc: 0.856 | Val Loss: 0.9495, Val Acc: 0.640

  Early stopping at epoch 44 (patience=30)
Learning curves saved to: models/trained/USDJPY_NN_learning_curves.png
Overfitting metrics saved to: models/trained/USDJPY_NN_overfitting_metrics.json

============================================================
OVERFITTING MONITOR SUMMARY
============================================================
Status: ‚ö† WARNING
Train-Val Gap: 22.86% (Threshold: 15%)
Total Epochs: 44
Training Duration: 0:00:02.317024

Final Metrics:
  Train Accuracy: 0.8686
  Val Accuracy:   0.6400
  Train Loss:     0.6524
  Val Loss:       0.9460

Best Epoch (Highest Val Accuracy):
  Epoch:          8
  Train Accuracy: 0.6987
  Val Accuracy:   0.8400
  Train Loss:     0.8051
  Val Loss:       0.7896
============================================================


  Final Train Accuracy: 0.869
  Final Val Accuracy:   0.640
  Train-Val Gap:        0.229 (22.9%)

üìä Evaluating on Validation set...

  Accuracy: 0.640
  Precision (macro): 0.644
  Recall (macro): 0.640
  F1-Score (macro): 0.638

  Win Rate (excl. timeouts):
    Predicted: 58.0%
    Actual:    50.0%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          14        11
  True Win            7        18

üìä Evaluating on Test set...

  Accuracy: 0.717
  Precision (macro): 0.702
  Recall (macro): 0.674
  F1-Score (macro): 0.680

  Win Rate (excl. timeouts):
    Predicted: 71.7%
    Actual:    62.3%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          10        10
  True Win            5        28

üíæ Model saved to /kaggle/working

================================================================================
Training LSTM for USDJPY
================================================================================

üìÇ Loading data for USDJPY...
  Excluding timeout samples (TBM_Label == 0)
  Train: 270 samples
  Val:   50 samples
  Test:  53 samples
  Selected 57 features
  Remapped labels: [0 1]

üîÑ Training LSTM for USDJPY...
  Device: cuda
  Lookback window: 20 candles
  Training samples: 270
  Features: 57
  Creating sequences...
  Sequence shape: (250, 20, 57)
  Epoch 10/200 - LR: 0.001044 - Train Loss: 0.5924, Train Acc: 0.684 | Val Loss: 0.8204, Val Acc: 0.500
  Epoch 20/200 - LR: 0.002805 - Train Loss: 0.4873, Train Acc: 0.788 | Val Loss: 2.6178, Val Acc: 0.467
  Epoch 30/200 - LR: 0.005208 - Train Loss: 0.3122, Train Acc: 0.904 | Val Loss: 2.5736, Val Acc: 0.533
  Epoch 40/200 - LR: 0.007609 - Train Loss: 0.3292, Train Acc: 0.876 | Val Loss: 2.2193, Val Acc: 0.400

  Early stopping at epoch 43

  Final Train Accuracy: 0.932
  Final Val Accuracy:   0.400

üìä Evaluating on Validation set...

  Accuracy: 0.400
  Precision (macro): 0.370
  Recall (macro): 0.400
  F1-Score (macro): 0.363

  Win Rate (excl. timeouts):
    Predicted: 26.0%
    Actual:    50.0%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          16         9
  True Win           21         4

üìä Evaluating on Test set...

  Accuracy: 0.585
  Precision (macro): 0.630
  Recall (macro): 0.627
  F1-Score (macro): 0.585

  Win Rate (excl. timeouts):
    Predicted: 35.8%
    Actual:    62.3%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          16         4
  True Win           18        15

üíæ Model saved to /kaggle/working

################################################################################
# TRAINING: XAUUSD
################################################################################

################################################################################
# Training All Models for XAUUSD
################################################################################

================================================================================
Training Random Forest for XAUUSD
================================================================================

üìÇ Loading data for XAUUSD...
  Excluding timeout samples (TBM_Label == 0)
  Train: 252 samples
  Val:   62 samples
  Test:  66 samples
  Selected 57 features
  Remapped labels: [0 1]

üå≤ Training Random Forest for XAUUSD...
  Training samples: 252
  Features: 57

  üìä Dataset has 252 samples (< 300), applying augmentation...
  Augmented: 252 ‚Üí 302 samples

  üîÑ Performing cross-validation...

üîÑ Performing 5-fold cross-validation...

üå≤ Training Random Forest for XAUUSD...
  Training samples: 241
  Features: 57

  üìä Dataset has 241 samples (< 300), applying augmentation...
  Augmented: 241 ‚Üí 242 samples

  Train accuracy: 0.942
  Val accuracy:   0.738
  Train-Val gap:  0.204
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1314
    TBM_Bars_to_Hit                         : 0.0571
    FVG_Distance_to_Price_ATR_ZScore        : 0.0342
    FVG_Distance_to_Price_ATR               : 0.0326
    atr                                     : 0.0308
    TBM_Risk_Per_Trade_ATR                  : 0.0306
    Distance_to_Entry_ATR                   : 0.0282
    OB_Bullish_Valid                        : 0.0273
    TBM_Reward_Per_Trade_ATR                : 0.0268
    OB_Displacement_Fuzzy_Score             : 0.0262
  Fold 1/5: Accuracy=0.738, F1=0.737

üå≤ Training Random Forest for XAUUSD...
  Training samples: 241
  Features: 57

  üìä Dataset has 241 samples (< 300), applying augmentation...
  Augmented: 241 ‚Üí 242 samples

  Train accuracy: 0.913
  Val accuracy:   0.607
  Train-Val gap:  0.307
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1228
    FVG_Distance_to_Price_ATR_ZScore        : 0.0616
    TBM_Bars_to_Hit                         : 0.0413
    TBM_Risk_Per_Trade_ATR                  : 0.0370
    FVG_Distance_to_Price_ATR               : 0.0362
    FVG_Quality_Fuzzy                       : 0.0320
    TBM_Reward_Per_Trade_ATR                : 0.0308
    atr                                     : 0.0259
    OB_Size_ATR                             : 0.0233
    FVG_Depth_ATR_ZScore                    : 0.0227
  Fold 2/5: Accuracy=0.607, F1=0.606

üå≤ Training Random Forest for XAUUSD...
  Training samples: 242
  Features: 57

  üìä Dataset has 242 samples (< 300), applying augmentation...
  Augmented: 242 ‚Üí 242 samples

  Train accuracy: 0.921
  Val accuracy:   0.750
  Train-Val gap:  0.171
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1260
    TBM_Bars_to_Hit                         : 0.0554
    FVG_Distance_to_Price_ATR_ZScore        : 0.0529
    FVG_Distance_to_Price_ATR               : 0.0483
    TBM_Risk_Per_Trade_ATR                  : 0.0407
    atr                                     : 0.0335
    TBM_Reward_Per_Trade_ATR                : 0.0319
    Distance_to_Entry_ATR                   : 0.0292
    OB_Quality_Fuzzy                        : 0.0271
    OB_Displacement_Fuzzy_Score             : 0.0208
  Fold 3/5: Accuracy=0.750, F1=0.749

üå≤ Training Random Forest for XAUUSD...
  Training samples: 242
  Features: 57

  üìä Dataset has 242 samples (< 300), applying augmentation...
  Augmented: 242 ‚Üí 242 samples

  Train accuracy: 0.926
  Val accuracy:   0.717
  Train-Val gap:  0.209
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1174
    TBM_Bars_to_Hit                         : 0.0642
    FVG_Distance_to_Price_ATR_ZScore        : 0.0524
    FVG_Distance_to_Price_ATR               : 0.0523
    OB_Bullish_Valid                        : 0.0393
    TBM_Risk_Per_Trade_ATR                  : 0.0391
    TBM_Reward_Per_Trade_ATR                : 0.0382
    atr                                     : 0.0266
    BOS_Wick_Confirm                        : 0.0251
    Overbought_Fuzzy                        : 0.0222
  Fold 4/5: Accuracy=0.717, F1=0.717

üå≤ Training Random Forest for XAUUSD...
  Training samples: 242
  Features: 57

  üìä Dataset has 242 samples (< 300), applying augmentation...
  Augmented: 242 ‚Üí 242 samples

  Train accuracy: 0.926
  Val accuracy:   0.667
  Train-Val gap:  0.259
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1050
    FVG_Distance_to_Price_ATR               : 0.0543
    TBM_Bars_to_Hit                         : 0.0469
    TBM_Risk_Per_Trade_ATR                  : 0.0467
    TBM_Reward_Per_Trade_ATR                : 0.0437
    FVG_Distance_to_Price_ATR_ZScore        : 0.0411
    Distance_to_Entry_ATR                   : 0.0347
    ATR_ZScore                              : 0.0262
    OB_Bullish_Valid                        : 0.0261
    OB_Bullish                              : 0.0260
  Fold 5/5: Accuracy=0.667, F1=0.666

  Cross-Validation Results:
    Mean Accuracy: 0.696 ¬± 0.053
    Mean F1-Score: 0.695 ¬± 0.053
    ‚úÖ Model is stable across folds

  Train accuracy: 0.977
  Val accuracy:   0.613
  Train-Val gap:  0.364
  ‚ö†Ô∏è Warning: Overfitting detected (gap > 15%)

  Top 10 Most Important Features:
    OB_Age                                  : 0.1101
    TBM_Bars_to_Hit                         : 0.0535
    FVG_Distance_to_Price_ATR_ZScore        : 0.0463
    FVG_Distance_to_Price_ATR               : 0.0383
    TBM_Risk_Per_Trade_ATR                  : 0.0372
    TBM_Reward_Per_Trade_ATR                : 0.0286
    atr                                     : 0.0263
    OB_Quality_Fuzzy                        : 0.0258
    OB_Displacement_Fuzzy_Score             : 0.0249
    Distance_to_Entry_ATR                   : 0.0224

üìä Evaluating on Validation set...

  Accuracy: 0.613
  Precision (macro): 0.614
  Recall (macro): 0.603
  F1-Score (macro): 0.598

  Win Rate (excl. timeouts):
    Predicted: 66.1%
    Actual:    53.2%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          13        16
  True Win            8        25

  Overfitting Analysis:
    Training Accuracy: 0.977
    Validation Accuracy: 0.613
    Train-Val Gap: 0.364
    ‚ö†Ô∏è OVERFITTING DETECTED (gap > 15%)

üìä Evaluating on Test set...

  Accuracy: 0.727
  Precision (macro): 0.682
  Recall (macro): 0.648
  F1-Score (macro): 0.656

  Win Rate (excl. timeouts):
    Predicted: 77.3%
    Actual:    68.2%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss           9        12
  True Win            6        39

‚ùå Random Forest training failed: Object of type bool_ is not JSON serializable

================================================================================
Training XGBoost for XAUUSD
================================================================================

üìÇ Loading data for XAUUSD...
  Excluding timeout samples (TBM_Label == 0)
  Train: 252 samples
  Val:   62 samples
  Test:  66 samples
  Selected 57 features
  Remapped labels: [0 1]

üöÄ Training XGBoost for XAUUSD...
  Training samples: 252
  Features: 57

  Train accuracy: 1.000
  Val accuracy:   0.710
  Best iteration: 200

  Top 10 Most Important Features:
    OB_Age                                  : 0.1043
    BOS_Close_Confirm                       : 0.0557
    FVG_Distance_to_Price_ATR               : 0.0466
    TBM_Reward_Per_Trade_ATR                : 0.0459
    TBM_Bars_to_Hit                         : 0.0378
    FVG_Distance_to_Price_ATR_ZScore        : 0.0370
    ATR_ZScore                              : 0.0320
    OB_Quality_Fuzzy                        : 0.0318
    TBM_Risk_Per_Trade_ATR                  : 0.0292
    FVG_Quality_Fuzzy                       : 0.0287

üìä Evaluating on Validation set...

  Accuracy: 0.710
  Precision (macro): 0.710
  Recall (macro): 0.711
  F1-Score (macro): 0.709

  Win Rate (excl. timeouts):
    Predicted: 50.0%
    Actual:    53.2%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          21         8
  True Win           10        23

  Overfitting Analysis:
    Training Accuracy: 1.000
    Validation Accuracy: 0.710
    Train-Val Gap: 0.290
    ‚ö†Ô∏è OVERFITTING DETECTED (gap > 15%)

üìä Evaluating on Test set...

  Accuracy: 0.727
  Precision (macro): 0.686
  Recall (macro): 0.686
  F1-Score (macro): 0.686

  Win Rate (excl. timeouts):
    Predicted: 68.2%
    Actual:    68.2%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          12         9
  True Win            9        36

üíæ Model saved to /kaggle/working

================================================================================
Training Neural Network for XAUUSD
================================================================================

üìÇ Loading data for XAUUSD...
  Excluding timeout samples (TBM_Label == 0)
  Train: 252 samples
  Val:   62 samples
  Test:  66 samples
  Selected 57 features
  Remapped labels: [0 1]

üß† Training Neural Network for XAUUSD...
  Device: cuda
  Training samples: 252
  Features: 57
  Architecture: 57 -> 512 -> 256 -> 128 -> 64 -> 3

  Dataset has < 300 samples. Applying data augmentation...
  Augmented training samples: 302
  Epoch 10/200 - LR: 0.010000 - Train Loss: 0.8264, Train Acc: 0.728 | Val Loss: 0.8593, Val Acc: 0.597
  Epoch 20/200 - LR: 0.005000 - Train Loss: 0.7266, Train Acc: 0.834 | Val Loss: 0.8814, Val Acc: 0.581
  Epoch 30/200 - LR: 0.001250 - Train Loss: 0.7025, Train Acc: 0.825 | Val Loss: 0.9151, Val Acc: 0.565

  Early stopping at epoch 39 (patience=30)
Learning curves saved to: models/trained/XAUUSD_NN_learning_curves.png
Overfitting metrics saved to: models/trained/XAUUSD_NN_overfitting_metrics.json

============================================================
OVERFITTING MONITOR SUMMARY
============================================================
Status: ‚ö† WARNING
Train-Val Gap: 25.09% (Threshold: 15%)
Total Epochs: 39
Training Duration: 0:00:02.100487

Final Metrics:
  Train Accuracy: 0.8477
  Val Accuracy:   0.5968
  Train Loss:     0.6737
  Val Loss:       0.9210

Best Epoch (Highest Val Accuracy):
  Epoch:          7
  Train Accuracy: 0.6556
  Val Accuracy:   0.7097
  Train Loss:     0.8290
  Val Loss:       0.8281
============================================================


  Final Train Accuracy: 0.848
  Final Val Accuracy:   0.597
  Train-Val Gap:        0.251 (25.1%)

üìä Evaluating on Validation set...

  Accuracy: 0.597
  Precision (macro): 0.616
  Recall (macro): 0.607
  F1-Score (macro): 0.592

  Win Rate (excl. timeouts):
    Predicted: 35.5%
    Actual:    53.2%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          22         7
  True Win           18        15

üìä Evaluating on Test set...

  Accuracy: 0.576
  Precision (macro): 0.565
  Recall (macro): 0.575
  F1-Score (macro): 0.556

  Win Rate (excl. timeouts):
    Predicted: 53.0%
    Actual:    68.2%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          12         9
  True Win           19        26

üíæ Model saved to /kaggle/working

================================================================================
Training LSTM for XAUUSD
================================================================================

üìÇ Loading data for XAUUSD...
  Excluding timeout samples (TBM_Label == 0)
  Train: 252 samples
  Val:   62 samples
  Test:  66 samples
  Selected 57 features
  Remapped labels: [0 1]

üîÑ Training LSTM for XAUUSD...
  Device: cuda
  Lookback window: 20 candles
  Training samples: 252
  Features: 57
  Creating sequences...
  Sequence shape: (232, 20, 57)
  Epoch 10/200 - LR: 0.001044 - Train Loss: 0.5786, Train Acc: 0.672 | Val Loss: 0.8615, Val Acc: 0.524
  Epoch 20/200 - LR: 0.002805 - Train Loss: 0.5142, Train Acc: 0.776 | Val Loss: 1.1232, Val Acc: 0.619
  Epoch 30/200 - LR: 0.005208 - Train Loss: 0.4338, Train Acc: 0.849 | Val Loss: 1.1539, Val Acc: 0.524
  Epoch 40/200 - LR: 0.007610 - Train Loss: 0.4028, Train Acc: 0.871 | Val Loss: 1.9401, Val Acc: 0.333

  Early stopping at epoch 46

  Final Train Accuracy: 0.909
  Final Val Accuracy:   0.333

üìä Evaluating on Validation set...

  Accuracy: 0.387
  Precision (macro): 0.386
  Recall (macro): 0.397
  F1-Score (macro): 0.377

  Win Rate (excl. timeouts):
    Predicted: 33.9%
    Actual:    53.2%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          16        13
  True Win           25         8

üìä Evaluating on Test set...

  Accuracy: 0.485
  Precision (macro): 0.519
  Recall (macro): 0.521
  F1-Score (macro): 0.481

  Win Rate (excl. timeouts):
    Predicted: 40.9%
    Actual:    68.2%

  Confusion Matrix:
              Pred Loss  Pred Win
  True Loss          13         8
  True Win           26        19

üíæ Model saved to /kaggle/working

‚úÖ Model training completed

================================================================================
üìà RESULTS SUMMARY
================================================================================

Symbol     Model                Val Acc      Test Acc     Status         
---------------------------------------------------------------------------
AUDCAD     RandomForest         ERROR        ERROR        ‚ùå Failed       
AUDCAD     XGBoost              0.609        0.644        ‚úÖ Success      
AUDCAD     NeuralNetwork        0.783        0.610        ‚úÖ Success      
AUDCAD     LSTM                 0.609        0.407        ‚ö†Ô∏è  Low Acc    
AUDCHF     RandomForest         ERROR        ERROR        ‚ùå Failed       
AUDCHF     XGBoost              0.509        0.644        ‚úÖ Success      
AUDCHF     NeuralNetwork        0.545        0.556        ‚úÖ Success      
AUDCHF     LSTM                 0.527        0.444        ‚ö†Ô∏è  Low Acc    
AUDJPY     RandomForest         ERROR        ERROR        ‚ùå Failed       
AUDJPY     XGBoost              0.733        0.686        ‚úÖ Success      
AUDJPY     NeuralNetwork        0.711        0.608        ‚úÖ Success      
AUDJPY     LSTM                 0.556        0.569        ‚úÖ Success      
AUDNZD     RandomForest         ERROR        ERROR        ‚ùå Failed       
AUDNZD     XGBoost              0.645        0.780        ‚úÖ Success      
AUDNZD     NeuralNetwork        0.645        0.659        ‚úÖ Success      
AUDNZD     LSTM                 0.484        0.415        ‚ö†Ô∏è  Low Acc    
AUDUSD     RandomForest         ERROR        ERROR        ‚ùå Failed       
AUDUSD     XGBoost              0.566        0.593        ‚úÖ Success      
AUDUSD     NeuralNetwork        0.528        0.500        ‚ö†Ô∏è  Low Acc    
AUDUSD     LSTM                 0.340        0.333        ‚ö†Ô∏è  Low Acc    
EURUSD     RandomForest         ERROR        ERROR        ‚ùå Failed       
EURUSD     XGBoost              0.684        0.723        ‚úÖ Success      
EURUSD     NeuralNetwork        0.561        0.574        ‚úÖ Success      
EURUSD     LSTM                 0.456        0.468        ‚ö†Ô∏è  Low Acc    
GBPUSD     RandomForest         ERROR        ERROR        ‚ùå Failed       
GBPUSD     XGBoost              0.604        0.659        ‚úÖ Success      
GBPUSD     NeuralNetwork        0.625        0.636        ‚úÖ Success      
GBPUSD     LSTM                 0.333        0.614        ‚úÖ Success      
USDCAD     RandomForest         ERROR        ERROR        ‚ùå Failed       
USDCAD     XGBoost              0.646        0.721        ‚úÖ Success      
USDCAD     NeuralNetwork        0.646        0.651        ‚úÖ Success      
USDCAD     LSTM                 0.479        0.535        ‚úÖ Success      
USDCHF     RandomForest         ERROR        ERROR        ‚ùå Failed       
USDCHF     XGBoost              0.761        0.717        ‚úÖ Success      
USDCHF     NeuralNetwork        0.717        0.717        ‚úÖ Success      
USDCHF     LSTM                 0.283        0.609        ‚úÖ Success      
USDJPY     RandomForest         ERROR        ERROR        ‚ùå Failed       
USDJPY     XGBoost              0.780        0.660        ‚úÖ Success      
USDJPY     NeuralNetwork        0.640        0.717        ‚úÖ Success      
USDJPY     LSTM                 0.400        0.585        ‚úÖ Success      
XAUUSD     RandomForest         ERROR        ERROR        ‚ùå Failed       
XAUUSD     XGBoost              0.710        0.727        ‚úÖ Success      
XAUUSD     NeuralNetwork        0.597        0.576        ‚úÖ Success      
XAUUSD     LSTM                 0.387        0.485        ‚ö†Ô∏è  Low Acc    

üíæ Results saved: /kaggle/working/training_results.json

================================================================================
üìÅ OUTPUT FILES
================================================================================

Data Files:
  - consolidated_ohlc_data.csv (39.09 MB)
  - processed_smc_data.csv (200.71 MB)
  - processed_smc_data_test.csv (10.09 MB)
  - processed_smc_data_train.csv (46.93 MB)
  - processed_smc_data_val.csv (10.08 MB)

Model Files:
  - AUDCAD_LSTM.pkl (348.45 MB)
  - AUDCAD_LSTM_scaler.pkl (0.00 MB)
  - AUDCAD_NeuralNetwork.pkl (0.80 MB)
  - AUDCAD_NeuralNetwork_scaler.pkl (0.00 MB)
  - AUDCAD_RandomForest.pkl (0.53 MB)
  - AUDCAD_XGBoost.pkl (0.24 MB)
  - AUDCHF_LSTM.pkl (348.45 MB)
  - AUDCHF_LSTM_scaler.pkl (0.00 MB)
  - AUDCHF_NeuralNetwork.pkl (0.80 MB)
  - AUDCHF_NeuralNetwork_scaler.pkl (0.00 MB)
  - AUDCHF_RandomForest.pkl (0.62 MB)
  - AUDCHF_XGBoost.pkl (0.25 MB)
  - AUDJPY_LSTM.pkl (348.45 MB)
  - AUDJPY_LSTM_scaler.pkl (0.00 MB)
  - AUDJPY_NeuralNetwork.pkl (0.80 MB)
  - AUDJPY_NeuralNetwork_scaler.pkl (0.00 MB)
  - AUDJPY_RandomForest.pkl (0.58 MB)
  - AUDJPY_XGBoost.pkl (0.24 MB)
  - AUDNZD_LSTM.pkl (348.45 MB)
  - AUDNZD_LSTM_scaler.pkl (0.00 MB)
  - AUDNZD_NeuralNetwork.pkl (0.80 MB)
  - AUDNZD_NeuralNetwork_scaler.pkl (0.00 MB)
  - AUDNZD_RandomForest.pkl (0.43 MB)
  - AUDNZD_XGBoost.pkl (0.21 MB)
  - AUDUSD_LSTM.pkl (348.45 MB)
  - AUDUSD_LSTM_scaler.pkl (0.00 MB)
  - AUDUSD_NeuralNetwork.pkl (0.80 MB)
  - AUDUSD_NeuralNetwork_scaler.pkl (0.00 MB)
  - AUDUSD_RandomForest.pkl (0.60 MB)
  - AUDUSD_XGBoost.pkl (0.24 MB)
  - EURUSD_LSTM.pkl (348.45 MB)
  - EURUSD_LSTM_scaler.pkl (0.00 MB)
  - EURUSD_NeuralNetwork.pkl (0.80 MB)
  - EURUSD_NeuralNetwork_scaler.pkl (0.00 MB)
  - EURUSD_RandomForest.pkl (0.56 MB)
  - EURUSD_XGBoost.pkl (0.23 MB)
  - GBPUSD_LSTM.pkl (348.45 MB)
  - GBPUSD_LSTM_scaler.pkl (0.00 MB)
  - GBPUSD_NeuralNetwork.pkl (0.80 MB)
  - GBPUSD_NeuralNetwork_scaler.pkl (0.00 MB)
  - GBPUSD_RandomForest.pkl (0.53 MB)
  - GBPUSD_XGBoost.pkl (0.23 MB)
  - USDCAD_LSTM.pkl (348.45 MB)
  - USDCAD_LSTM_scaler.pkl (0.00 MB)
  - USDCAD_NeuralNetwork.pkl (0.80 MB)
  - USDCAD_NeuralNetwork_scaler.pkl (0.00 MB)
  - USDCAD_RandomForest.pkl (0.56 MB)
  - USDCAD_XGBoost.pkl (0.22 MB)
  - USDCHF_LSTM.pkl (348.45 MB)
  - USDCHF_LSTM_scaler.pkl (0.00 MB)
  - USDCHF_NeuralNetwork.pkl (0.80 MB)
  - USDCHF_NeuralNetwork_scaler.pkl (0.00 MB)
  - USDCHF_RandomForest.pkl (0.55 MB)
  - USDCHF_XGBoost.pkl (0.23 MB)
  - USDJPY_LSTM.pkl (348.45 MB)
  - USDJPY_LSTM_scaler.pkl (0.00 MB)
  - USDJPY_NeuralNetwork.pkl (0.80 MB)
  - USDJPY_NeuralNetwork_scaler.pkl (0.00 MB)
  - USDJPY_RandomForest.pkl (0.69 MB)
  - USDJPY_XGBoost.pkl (0.24 MB)
  - XAUUSD_LSTM.pkl (348.45 MB)
  - XAUUSD_LSTM_scaler.pkl (0.00 MB)
  - XAUUSD_NeuralNetwork.pkl (0.80 MB)
  - XAUUSD_NeuralNetwork_scaler.pkl (0.00 MB)
  - XAUUSD_RandomForest.pkl (0.70 MB)
  - XAUUSD_XGBoost.pkl (0.24 MB)

Result Files:
  - AUDCAD_LSTM_metadata.json (0.00 MB)
  - AUDCAD_NeuralNetwork_metadata.json (0.01 MB)
  - AUDCAD_RandomForest_metadata.json (0.00 MB)
  - AUDCAD_XGBoost_metadata.json (0.00 MB)
  - AUDCHF_LSTM_metadata.json (0.01 MB)
  - AUDCHF_NeuralNetwork_metadata.json (0.00 MB)
  - AUDCHF_RandomForest_metadata.json (0.00 MB)
  - AUDCHF_XGBoost_metadata.json (0.00 MB)
  - AUDJPY_LSTM_metadata.json (0.00 MB)
  - AUDJPY_NeuralNetwork_metadata.json (0.01 MB)
  - AUDJPY_RandomForest_metadata.json (0.00 MB)
  - AUDJPY_XGBoost_metadata.json (0.00 MB)
  - AUDNZD_LSTM_metadata.json (0.01 MB)
  - AUDNZD_NeuralNetwork_metadata.json (0.01 MB)
  - AUDNZD_RandomForest_metadata.json (0.00 MB)
  - AUDNZD_XGBoost_metadata.json (0.00 MB)
  - AUDUSD_LSTM_metadata.json (0.01 MB)
  - AUDUSD_NeuralNetwork_metadata.json (0.01 MB)
  - AUDUSD_RandomForest_metadata.json (0.00 MB)
  - AUDUSD_XGBoost_metadata.json (0.00 MB)
  - EURUSD_LSTM_metadata.json (0.01 MB)
  - EURUSD_NeuralNetwork_metadata.json (0.01 MB)
  - EURUSD_RandomForest_metadata.json (0.00 MB)
  - EURUSD_XGBoost_metadata.json (0.00 MB)
  - GBPUSD_LSTM_metadata.json (0.01 MB)
  - GBPUSD_NeuralNetwork_metadata.json (0.01 MB)
  - GBPUSD_RandomForest_metadata.json (0.00 MB)
  - GBPUSD_XGBoost_metadata.json (0.00 MB)
  - USDCAD_LSTM_metadata.json (0.00 MB)
  - USDCAD_NeuralNetwork_metadata.json (0.01 MB)
  - USDCAD_RandomForest_metadata.json (0.00 MB)
  - USDCAD_XGBoost_metadata.json (0.00 MB)
  - USDCHF_LSTM_metadata.json (0.01 MB)
  - USDCHF_NeuralNetwork_metadata.json (0.01 MB)
  - USDCHF_RandomForest_metadata.json (0.00 MB)
  - USDCHF_XGBoost_metadata.json (0.00 MB)
  - USDJPY_LSTM_metadata.json (0.01 MB)
  - USDJPY_NeuralNetwork_metadata.json (0.01 MB)
  - USDJPY_RandomForest_metadata.json (0.00 MB)
  - USDJPY_XGBoost_metadata.json (0.00 MB)
  - XAUUSD_LSTM_metadata.json (0.01 MB)
  - XAUUSD_NeuralNetwork_metadata.json (0.01 MB)
  - XAUUSD_RandomForest_metadata.json (0.00 MB)
  - XAUUSD_XGBoost_metadata.json (0.00 MB)
  - processed_smc_data_feature_list.txt (0.00 MB)
  - processed_smc_data_quality_stats.txt (0.00 MB)
  - training_results.json (0.18 MB)

================================================================================
‚úÖ PIPELINE COMPLETE!
================================================================================

üéØ Next Steps:
  1. Review training_results.json
  2. Download .pkl model files from Output tab
  3. Deploy best models to trading system

üìä Summary:
  Symbols: 11
  Models per symbol: 4
  Total models: 44

‚ú® Check /kaggle/working/ for all outputs!